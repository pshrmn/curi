(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{29:function(e,t,a){"use strict";a.r(t),a.d(t,"component",function(){return h}),a.d(t,"contents",function(){return d});var n=a(0),r=a.n(n),l=a(3),o=a(22),s={title:"Getting Started"},i={title:"The Router",hash:"router-object"},c={title:"Navigation",hash:"navigation"},u={title:"Response Handlers",hash:"response-handlers"},m={title:"Rendering",hash:"rendering"},d=[i,c,u,m];function h(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.f,null,r.a.createElement("h1",null,s.title),r.a.createElement("p",null,"The core of a single-page application is with its router. The router is responsible for matching locations to its known routes and for powering navigating within the application.")),r.a.createElement(o.c,{meta:i},r.a.createElement("p",null,"A router is created using a"," ",r.a.createElement(l.a,{name:"Guide",params:{slug:"history"}},r.a.createElement(o.d,null,"history")," constructor")," ","and a"," ",r.a.createElement(l.a,{name:"Guide",params:{slug:"routes"}},r.a.createElement(o.d,null,"routes")," array.")),r.a.createElement(o.b,null,"import { curi, prepare_routes } from '@curi/router';\nimport { browser } from \"@hickory/browser\";\n\nconst routes = prepare_routes([...]);\nconst router = create_router(browser, routes);")),r.a.createElement(o.c,{meta:c},r.a.createElement("p",null,"There are two types of navigation within a single-page application: in-app navigation (e.g. clicking a link) and platform navigation (e.g. clicking the back button or typing URL in the address bar and hitting enter)."),r.a.createElement("p",null,"A Curi router object has a ",r.a.createElement(o.d,null,"navigate()")," method to let you navigate with code. Instead of being given a URL, the function takes the ",r.a.createElement(o.d,null,"name")," of the route you want to navigate to and any route"," ",r.a.createElement(o.d,null,"params"),". There are also a number of"," ",r.a.createElement(l.a,{name:"Package",params:{package:"router",version:"v1"},hash:"navigate"},"other optional arguments to ",r.a.createElement(o.d,null,"navigate()")),"."),r.a.createElement(o.b,null,'router.navigate({\n  name: "Photo",\n  params: { albumID: 1357, photoID: 02468 },\n  hash: "comments"\n});\n// navigates to /photos/1357/02468#comments'),r.a.createElement(o.e,null,r.a.createElement("p",null,"Render packages, like"," ",r.a.createElement(l.a,{name:"Package",params:{package:"react-dom",version:"v1"}},r.a.createElement(o.d,null,"@curi/react-dom")),", will call ",r.a.createElement(o.d,null,"router.nagivate()")," for you when the user clicks a link."))),r.a.createElement(o.c,{meta:u},r.a.createElement("p",null,'When Curi matches a location to a route, it creates a "response" object. Respons objects provide information about the route that matched.'),r.a.createElement("p",null,"Response handlers are functions that will be called when there is a new response. There are three types of response handlers: side effects, one time functions, and observers."),r.a.createElement("p",null,"Side effects are passed to the router when you are creating it. These are best suited for non-rendering tasks. You can read more about them in the"," ",r.a.createElement(l.a,{name:"Guide",params:{slug:"side-effects"}},"side effects guide"),"."),r.a.createElement(o.b,null,"const router = create_router(browser, routes, {\n  side_effects: [scroll, title]\n})"),r.a.createElement("p",null,"Response handlers registered with ",r.a.createElement(o.d,null,"router.once()")," will only be called one time. This is primarily useful for waiting for asynchronous actions to finish before the initial render."),r.a.createElement(o.b,null,"const router = create_router(browser, routes);\nrouter.once(() => {\n  // this is not called until the initial response is ready\n  // so we can safely render now\n});"),r.a.createElement("p",null,"Observers are passed to the router using ",r.a.createElement(o.d,null,"router.observe()"),". Unlike one time functions, these will be called every time there is a new response."),r.a.createElement("p",null,"Render packages, like ",r.a.createElement(o.d,null,"@curi/react-dom"),", use"," ",r.a.createElement(o.d,null,"router.observe()")," internally in order to re-render when there is a new response."),r.a.createElement(o.b,null,"router.observe(({ response }) => {\n  console.log('new response!', response);\n});"),r.a.createElement("p",null,"If you have any asynchronous routes (a route with a ",r.a.createElement(o.d,null,"resolve")," ","function), ",r.a.createElement(o.d,null,"router.once()")," should be used to delay the initial render until after the initial response is ready."),r.a.createElement(o.b,null,"// wait for initial response to be ready\nrouter.once(() => {\n  // safe to render async routes now\n});")),r.a.createElement(o.c,{meta:m},r.a.createElement("p",null,"Curi adapts its API to work with different UI libraries. You can check out the respective guides for the officially supported libraries to see how to use them."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.a,{name:"Guide",params:{slug:"react-dom"}},"React DOM")),r.a.createElement("li",null,r.a.createElement(l.a,{name:"Guide",params:{slug:"react-native"}},"React Native")),r.a.createElement("li",null,r.a.createElement(l.a,{name:"Guide",params:{slug:"svelte"}},"Svelte")),r.a.createElement("li",null,r.a.createElement(l.a,{name:"Guide",params:{slug:"vue"}},"Vue")))))}}}]);