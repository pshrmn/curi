(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{32:function(e,t,n){"use strict";n.r(t),n.d(t,"component",function(){return h}),n.d(t,"contents",function(){return m});var a=n(0),r=n.n(a),o=n(3),l=n(22),s={title:"Responses"},c={title:"The Properties of a Response Object",hash:"response-properties"},u={title:"Response Body",hash:"response-body"},i={title:"Redirect Response",hash:"redirect-properties"},m=[c,u,i];function h(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.f,null,r.a.createElement("h1",null,s.title),r.a.createElement("p",null,"When Curi receives a location, it compares the location's"," ",r.a.createElement(l.d,null,"pathname")," to each route's ",r.a.createElement(l.d,null,"path")," to find which one matches best and uses that route to create a response object.")),r.a.createElement(l.c,{meta:c},r.a.createElement("p",null,"There are two types of response properties."),r.a.createElement("p",null,'The "match" properties are set based on the route that matches a location. A response always has these properties.'),r.a.createElement(l.b,null,"// match properties\n{\n  // The location object used to generate the response.\n  location: { pathname: '/photos/6789/12345', ... },\n\n  // The name of the best matching route\n  name: 'Photo',\n\n  // The name of ancestor routes that matched\n  // part of the location's pathname\n  partials: ['Album'],\n\n  // An object containing the values parsed\n  // from the pathname by path-to-regexp.\n  // This includes params from ancestor routes.\n  params: { photoID: 12345, albumID: 6789 },\n}"),r.a.createElement("p",null,'The "settable" properties are ones that are added by a matched route\'s'," ",r.a.createElement(l.d,null,"response")," function. These only exist on the response when they are returned by a route's ",r.a.createElement(l.d,null,"response")," function."),r.a.createElement("p",null,'The "settable" properties are:'),r.a.createElement(l.g,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"property"),r.a.createElement("th",null,"description"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"body"),r.a.createElement("td",null,"The component(s) that should be rendered for a route.")),r.a.createElement("tr",null,r.a.createElement("td",null,"status"),r.a.createElement("td",null,"An http status, mostly useful for server side rendering.")),r.a.createElement("tr",null,r.a.createElement("td",null,"data"),r.a.createElement("td",null,"A place to attach any data you want to the response, such as data loaded in the route's ",r.a.createElement(l.d,null,"resolve")," function.")),r.a.createElement("tr",null,r.a.createElement("td",null,"title"),r.a.createElement("td",null,"The response's title, which can be used with"," ",r.a.createElement(o.a,{name:"Package",params:{package:"side-effect-title",version:"v1"}},r.a.createElement(l.d,null,"@curi/side-effect-title"))," ","to set the browsers tab's title.")),r.a.createElement("tr",null,r.a.createElement("td",null,"error"),r.a.createElement("td",null,"A convenient place to attach any errors to the response.")),r.a.createElement("tr",null,r.a.createElement("td",null,"redirectTo"),r.a.createElement("td",null,"An object describing a route that Curi should automatically redirect to.")))),r.a.createElement(l.b,null,"// settable properties (optional)\n{\n  body: Photo,\n  // or maybe\n  body: {\n    menu: PhotoMenu,\n    main: Photo\n  },\n  // Please see below for more information\n  // about this property\n\n  status: 200,\n\n  data: {...},\n\n  title: 'Photo 12345',\n\n  error: undefined,\n\n  redirectTo: {...}\n}")),r.a.createElement(l.c,{meta:u},r.a.createElement("p",null,"Curi isn't strict about how you use responses, but you will most likely always want to use a route's ",r.a.createElement(l.d,null,"response")," function to attach a ",r.a.createElement(l.d,null,"body")," property to a response. The usual pattern is to use a route's ",r.a.createElement(l.d,null,"body")," property to describe which component(s) to render when a route matches. This can either be a single component for basic layouts or an object with a number of components for"," ",r.a.createElement(o.a,{name:"Example",params:{category:"react",slug:"multi-body"}},"advanced layouts"),"."),r.a.createElement(l.e,null,r.a.createElement("p",null,"Each route should use the same ",r.a.createElement(l.d,null,"body"),' "shape". If one route returns a single component while another route return an object, you will be making rendering more complicated for yourself.')),r.a.createElement(l.b,null,"// do NOT do this\n// mixing body shapes complicates rendering\nconst routes = prepareRoutes([\n  {\n    response() {\n      return { body: One }\n    }\n  },\n  {\n    response() {\n      return {\n        body: {\n          main: Main,\n          menu: Menu\n        }\n      }\n    }\n  }\n]);")),r.a.createElement(l.c,{meta:i},r.a.createElement("p",null,"When a route's ",r.a.createElement(l.d,null,"response")," function returns an object with a"," ",r.a.createElement(o.a,{name:"Package",params:{package:"router",version:"v1"},hash:"response"},r.a.createElement(l.d,null,"redirectTo")," property"),", the router will use it to generate a location object that Curi will automatically redirect to."),r.a.createElement(l.b,null,'{\n  // The redirectTo property provides information on\n  // where you should redirect to\n  redirectTo: { name: "Login" }\n}'),r.a.createElement("p",null,"When creating a router, you can set the ",r.a.createElement(l.d,null,"emitRedirects")," ","option to ",r.a.createElement(l.d,null,"false")," and the response will not be sent to observers and one time functions. Redirect responses don't usually have anything to render, so setting this option is usually ideal."),r.a.createElement(l.b,null,"const router = curi(history, routes, {\n  emitRedirects: false\n});")))}}}]);