(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{87:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(21),o={title:"once",hash:"once"};var u={title:"preferDefault",hash:"preferDefault"};var i={about:l.a.createElement(r.b,null,l.a.createElement("p",null,"The ",l.a.createElement(r.f,null,"@curi/helpers")," package provides functions that may be useful in a Curi application.")),api:l.a.createElement(r.a,null,l.a.createElement(function(){return l.a.createElement(r.e,{meta:o},l.a.createElement("p",null,l.a.createElement(r.f,null,"once")," is a simple caching function. It takes a function as its argument and returns a new function. The first time the returned function is called, it will call the function passed to it and return its result. Every call after that will re-use the result from the first call."),l.a.createElement("p",null,"The ",l.a.createElement(r.f,null,"once")," function is useful for any async functions that only need to be called once."),l.a.createElement(r.g,null,l.a.createElement("p",null,"This will not work for functions whose result depends on variables that will change for a route (i.e. loading data based on route params).")),l.a.createElement(r.d,null,'import { once } from "@curi/helpers";\n\nconst cachedGetItems = once(() => api.getItems());\n\nconst routes = prepareRoutes([\n  {\n    name: "Menu",\n    path: "menu",\n    resolve() {\n      // this function will be called every time the user\n      // navigates to the "Menu" route\n      const nonCached = api.getItems();\n\n      // this function is only called the first time the\n      // user navigates to the "Menu" route\n      const cached = cachedGetItems();\n      return Promise.all([nonCached, cached]);\n    }\n  }\n]);'))},null),l.a.createElement(function(){return l.a.createElement(r.e,{meta:u},l.a.createElement("p",null,"When using dynamic import syntax (",l.a.createElement(r.f,null,'import("someModule")'),"), the resolved module is a module object containing all of the exports from that module. If the module has a default export (",l.a.createElement(r.f,null,"export default ..."),"), that will be the module's"," ",l.a.createElement(r.f,null,"default")," property. The ",l.a.createElement(r.f,null,"preferDefault")," function will resolve with the ",l.a.createElement(r.f,null,"default")," property of the module if it exists and with the module if it does not."),l.a.createElement(r.d,null,'import { preferDefault } from "@curi/helpers";\n\nconst routes = prepareRoutes([\n  {\n    name: "Menu",\n    path: "menu",\n    resolve() {\n      return import("./components/Menu")\n        .then(preferDefault);\n    },\n    respond({ resolved }) {\n      return { body: resolved }\n    }\n  }\n]);'))},null))},s=[{title:"Installation",hash:"installation"},{title:"About",hash:"about"},{title:"API",hash:"API",children:[o,u]}];n.d(t,"sections",function(){return i}),n.d(t,"contents",function(){return s})}}]);