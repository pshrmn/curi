<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="undefined">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Basics Tutorial | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/prism.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><style data-emotion-css="w4dmsu">body{font-family:"Zilla Slab",serif;font-weight:300;font-size:24px;line-height:36px;margin:0;box-sizing:border-box;}@media only screen and (min-width:751px){body{font-size:20px;}}*,*:before,*:after{box-sizing:inherit;}h1,h2,h3,h4,h5,h6{font-weight:normal;margin:5px 0;overflow:hidden;text-overflow:ellipsis;}p{margin:5px 0;word-break:break-word;}h1{font-size:1.75em;line-height:1.5em;}h2{font-size:1.5em;line-height:1.2em;}h3{font-size:1.35em;line-height:1.1em;}h4{font-size:1.2em;line-height:1.1em;}h5{font-size:1.1em;line-height:1.1em;}h6{font-size:1em;line-height:1.1em;}table,th,td{border:1px solid #c7c7c7;border-collapse:collapse;}table{margin-bottom:10px;}th{text-align:left;}th,td{padding:10px;}pre[class*="language-"]{margin:0;background:#222233;}:not(pre) > code[class*="language-"]{white-space:nowrap;}menu{padding:0;margin:0;}</style><style data-emotion-css="137i3vd">.css-137i3vd{display:none;}@media only screen and (min-width:751px){.css-137i3vd{display:block;width:100vw;max-width:100%;background:#222233;padding:0;position:fixed;z-index:1;}.css-137i3vd #home-link{font-size:1.5em;color:#ff9800;}}</style><header class="css-137i3vd e132noc00"><style data-emotion-css="lbfp59">.css-lbfp59{color:#efefef;}.css-lbfp59 li{padding:0 20px 0 0;}.css-lbfp59 li.base > a{color:#efefef;font-size:1.1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:50px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:3px solid #222233;padding:0 5px;}.css-lbfp59 li.base > a:hover{color:#ff9800;}.css-lbfp59 li.base > a.active{color:#ff9800;border-bottom-color:#ff9800;}.css-lbfp59 li.base > a.activated{color:#2196f3;border-bottom-color:#2196f3;}.css-lbfp59 a{-webkit-text-decoration:none;text-decoration:none;}</style><nav class="css-lbfp59 e132noc02"><style data-emotion-css="192aemx">.css-192aemx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;list-style:none;padding:0;margin:0;max-width:100%;}</style><ul role="menubar" class="css-192aemx e132noc01"><li class="base"><a id="home-link" class=" " href="/">Curi</a></li><li class="base" aria-haspopup="true"><a class="group " href="/v2/">API</a><style data-emotion-css="wvo19q">.css-wvo19q{display:none;position:absolute;left:0;width:100vw;color:#222233;border-bottom:2px solid #222233;}.css-wvo19q.active{display:block;}.css-wvo19q a{color:#222233;-webkit-text-decoration:none;text-decoration:none;}.css-wvo19q a.active{font-weight:bold;}.css-wvo19q ul{list-style:none;margin:0;padding:0;}</style><div class=" css-wvo19q e15ticc50"><style data-emotion-css="1dbx00u">.css-1dbx00u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;background:#deeffe;}.css-1dbx00u > div{margin:0 25px;}</style><ul class="css-1dbx00u e15ticc51"><li><style data-emotion-css="ermd9y">.css-ermd9y{margin:0 25px;}</style><menu class="css-ermd9y e1m8q8pb0"><h3>router</h3><ul class="link-list"><li class="solo"><a class=" " href="/v2/@curi/router/">router</a></li><li class="solo"><a class=" " href="/v2/@curi/interactions/">interactions</a></li></ul></menu></li><li><menu class="css-ermd9y e1m8q8pb0"><h3>render</h3><ul class="link-list"><li class="solo"><a class=" " href="/v2/@curi/react-dom/">react-dom</a></li><li class="solo"><a class=" " href="/v2/@curi/react-native/">react-native</a></li><li class="solo"><a class=" " href="/v2/@curi/svelte/">svelte</a></li><li class="solo"><a class=" " href="/v2/@curi/vue/">vue</a></li></ul></menu></li><li><menu class="css-ermd9y e1m8q8pb0"><h3>other</h3><ul class="link-list"><li class="solo"><a class=" " href="/v2/@curi/static/">static</a></li><li class="solo"><a class=" " href="/v2/@curi/helpers/">helpers</a></li><li class="solo"><a class=" " href="/v2/@curi/types/">types</a></li></ul></menu></li></ul></div></li><li class="base" aria-haspopup="true"><a class="group " href="/guides/">Guides</a><div class=" css-wvo19q e15ticc50"><ul class="css-1dbx00u e15ticc51"><menu class="css-ermd9y e1m8q8pb0"><h3>basic</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/installation/">Installation</a></li><li class="solo"><a class=" " href="/guides/getting-started/">Getting Started</a></li><li class="solo"><a class=" " href="/guides/history/">History</a></li><li class="solo"><a class=" " href="/guides/routes/">Routes</a></li><li class="solo"><a class=" " href="/guides/responses/">Responses</a></li><li class="solo"><a class=" " href="/guides/navigation-objects/">Navigation Objects</a></li><li class="solo"><a class=" " href="/guides/sync-or-async/">Sync or Async</a></li><li class="solo"><a class=" " href="/guides/new-responses/">New Responses</a></li><li class="solo"><a class=" " href="/guides/accessibility/">Accessibility</a></li></ul></menu><menu class="css-ermd9y e1m8q8pb0"><h3>rendering</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/react-dom/">React DOM</a></li><li class="solo"><a class=" " href="/guides/react-native/">React Native</a></li><li class="solo"><a class=" " href="/guides/svelte/">Svelte</a></li><li class="solo"><a class=" " href="/guides/vue/">Vue</a></li></ul></menu><menu class="css-ermd9y e1m8q8pb0"><h3>advanced</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/route-interactions/">Route Interactions</a></li><li class="solo"><a class=" " href="/guides/side-effects/">Side Effects</a></li><li class="solo"><a class=" " href="/guides/code-splitting/">Code Splitting</a></li><li class="solo"><a class=" " href="/guides/loading/">Loading Route Data</a></li><li class="solo"><a class=" " href="/guides/ssr/">Server-Side Rendering</a></li><li class="solo"><a class=" " href="/guides/apollo/">Apollo Integration</a></li></ul></menu></ul></div></li><li class="base" aria-haspopup="true"><a class="group active" href="/tutorial/">Tutorials</a><div class=" css-wvo19q e15ticc50"><ul class="css-1dbx00u e15ticc51"><menu class="css-ermd9y e1m8q8pb0"><h3>Basic</h3><ul class="link-list"><li class="solo"><a class=" active" href="/tutorial/react-basics/">React Basics</a></li><li class="solo"><a class=" " href="/tutorial/vue-basics/">Vue Basics</a></li></ul></menu><menu class="css-ermd9y e1m8q8pb0"><h3>Advanced</h3><ul class="link-list"><li class="solo"><a class=" " href="/tutorial/react-advanced/">React Advanced</a></li></ul></menu></ul></div></li><li class="base" aria-haspopup="true"><a class="group " href="/examples/">Examples</a><div class=" css-wvo19q e15ticc50"><ul class="css-1dbx00u e15ticc51"><menu class="css-ermd9y e1m8q8pb0"><ul class="link-list" style="margin:0 25px"><li class="solo"><a class=" " href="/examples/basic/">Basic</a></li><li class="solo"><a class=" " href="/examples/accessibility/">Focus Management</a></li><li class="solo"><a class=" " href="/examples/active/">Active Routes</a></li><li class="solo"><a class=" " href="/examples/async/">Async Routes &amp; Navigation</a></li><li class="solo"><a class=" " href="/examples/breadcrumbs/">Breadcrumbs</a></li><li class="solo"><a class=" " href="/examples/redirects/">Redirects</a></li><li class="solo"><a class=" " href="/examples/multi-body/">Multiple Body Components</a></li><li class="solo"><a class=" " href="/examples/transitions/">Route Transitions</a></li><li class="solo"><a class=" " href="/examples/modal/">Modal Content</a></li><li class="solo"><a class=" " href="/examples/spotify/">Spotify Clone</a></li><li class="solo"><a class=" " href="/examples/twitch/">Twitch Clone</a></li><li class="solo"><a class=" " href="/examples/code-splitting/">Code Splitting</a></li><li class="solo"><a class=" " href="/examples/script-tags/">Script Tags</a></li><li class="solo"><a class=" " href="/examples/server-rendering/">Server Rendering</a></li><li class="solo"><a class=" " href="/examples/side-effects/">Side Effects</a></li></ul></menu></ul></div></li><li class="base"><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><style data-emotion-css="1y5vav3">.css-1y5vav3{position:fixed;width:100vw;height:40px;left:0;bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;z-index:9999;}</style><menu class="css-1y5vav3 e18ecyrg1"><style data-emotion-css="x8eihf">.css-x8eihf{height:40px;border:0;font-size:1em;font-family:"Zilla Slab",serif;-webkit-flex:1;-ms-flex:1;flex:1;background:#c8e6c9;}.css-x8eihf.active{background:#ef9a9a;}@media only screen and (min-width:751px){.css-x8eihf{display:none;}}</style><button class="false main css-x8eihf e1105ass0">Menu</button></menu><style data-emotion-css="7kugt2">.css-7kugt2{position:fixed;overflow-y:scroll;width:100vw;height:100vh;background:#efefef;z-index:999;padding:0 0 45px 0;}.css-7kugt2.visible{display:block;}.css-7kugt2 ul{margin:3px 0;padding-left:0px;list-style:none;}.css-7kugt2 li{margin:3px 0;}.css-7kugt2 a{-webkit-text-decoration:none;text-decoration:none;display:inline-block;color:#222233;}.css-7kugt2 h3{border-bottom:1px solid #333;}.css-7kugt2 .active{font-weight:bold;}.css-7kugt2 .children{display:none;background:#efefef;padding:10px;}.css-7kugt2 .children.visible{display:block;position:fixed;top:0;bottom:0;left:0;right:0;overflow-y:scroll;}@media only screen and (min-width:751px){.css-7kugt2{display:none;}.css-7kugt2.visible{display:none;}}</style><menu hidden="" class=" css-7kugt2 e18ecyrg0"><style data-emotion-css="y5qusc">.css-y5qusc [data-reach-tab-panel]{outline:none;}.css-y5qusc [data-reach-tab-list]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:hsla(0,0%,0%,0.05);}.css-y5qusc [data-reach-tab]{display:inline-block;border:none;padding:0.25em 0.5em;margin:0;background:none;color:inherit;font:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;border-bottom:solid 1px transparent;}.css-y5qusc [data-reach-tab]:active{background:hsla(0,0%,0%,0.05);}.css-y5qusc [data-reach-tab]:disabled{opacity:0.25;cursor:default;}.css-y5qusc [data-reach-tab][data-selected]{border-bottom-color:inherit;}</style><div data-reach-tabs="" class="css-y5qusc e1ytk3540"><div data-reach-tab-list="" role="tablist"><button data-reach-tab="" role="tab" id="tab:null:0" tabindex="0" aria-selected="true" aria-controls="panel:null:0" data-selected="">Main</button><button data-reach-tab="" role="tab" id="tab:null:1" tabindex="-1" aria-selected="false" aria-controls="panel:null:1">Page</button></div><style data-emotion-css="1aoqav5">.css-1aoqav5{padding:0 15px;}</style><div data-reach-tab-panels="" class="css-1aoqav5 e1ytk3541"><div data-reach-tab-panel="" role="tabpanel" tabindex="-1" aria-labelledby="tab:null:0" id="panel:null:0"><ul><li><a class="home-link " href="/">Curi</a></li><li><style data-emotion-css="eh8tip">.css-eh8tip a{color:#222233;}.css-eh8tip ul{margin-left:10px;}.css-eh8tip > li{margin-bottom:15px;}</style><ul class="css-eh8tip e11f272a0"><li><style data-emotion-css="12lsm47">.css-12lsm47{cursor:pointer;font-size:24px;font-family:"Zilla Slab",serif;text-align:left;width:100%;background:none;border:0;padding:0;color:#222233;}</style><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>API</button></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Guides</button></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Tutorials</button></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Examples</button></li></ul></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></div><div data-reach-tab-panel="" role="tabpanel" tabindex="-1" aria-labelledby="tab:null:1" hidden="" id="panel:null:1"><style data-emotion-css="gnbpx8">.css-gnbpx8{width:200px;padding:0;margin:0;}.css-gnbpx8 p{margin:0;}.css-gnbpx8 a{-webkit-text-decoration:none;text-decoration:none;display:block;}.css-gnbpx8 ol{padding-left:0;margin-top:0;list-style-type:none;}.css-gnbpx8 ol ol{padding-left:15px;font-size:0.9em;}</style><menu class="css-gnbpx8 e1evhjzy0"><ol><li><a href="#demo">Demo</a></li><li><a href="#setup">Setup</a></li><li><a href="#routes">Routes</a><ol><li><a href="#path-basics">Path basics</a></li></ol></li><li><a href="#history">History</a></li><li><a href="#router">The Router</a><ol><li><a href="#announcing-navigation">Announcing Navigation</a></li></ol></li><li><a href="#rendering">Rendering with React</a><ol><li><a href="#responses">Responses and Navigation</a></li><li><a href="#route-respond">route.respond</a></li></ol></li><li><a href="#navigating">Navigating between locations</a><ol><li><a href="#link-component">The &lt;Link&gt; Component</a></li><li><a href="#nav-menu">A Navigation Menu</a></li><li><a href="#book-links">Linking to Books</a></li></ol></li><li><a href="#shopping">A Shopping API</a></li><li><a href="#useRouter">Using useRouter</a><ol><li><a href="#url-nav-method">The Router&#x27;s URL &amp; Navigate Methods</a></li></ol></li><li><a href="#next">What&#x27;s next?</a></li></ol></menu></div></div></div></menu><style data-emotion-css="13rb4cr">.css-13rb4cr{width:100vw;max-width:100%;padding:10px 10px 0;margin-bottom:45px;}.css-13rb4cr a{color:#222233;}@media only screen and (min-width:751px){.css-13rb4cr{padding:50px 0 0;margin-bottom:0;}}</style><main tabindex="-1" style="outline:none" class="css-13rb4cr e1fl12nk0"><style data-emotion-css="csv88t">.css-csv88t{position:relative;}@media only screen and (min-width:751px){.css-csv88t{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;}}@media only screen and (min-width:751px){.css-csv88t{max-width:100vw;}}</style><div class="css-csv88t e1hcridg0"><style data-emotion-css="q1fc1d">@media only screen and (min-width:751px){.css-q1fc1d{margin-left:275px;}}</style><article class="css-q1fc1d e1hcridg1"><style data-emotion-css="gmhjbe">.css-gmhjbe{margin-top:15px;}.css-gmhjbe p{margin:0 0 25px;font-size:0.8em;}@media only screen and (min-width:751px){.css-gmhjbe{max-width:751px;}.css-gmhjbe p{font-size:1em;}.css-gmhjbe.centered{margin:0 auto;}}</style><section class="section css-gmhjbe"><h1 tabindex="-1" style="outline:none">React Basics Tutorial</h1><p>In this tutorial, we will be building the front end of a website for a bookstore.</p><style data-emotion-css="5p5dk0">.css-5p5dk0{border:1px solid #2196f3;padding:10px;margin:5px 0;background:#deeffe;}.css-5p5dk0 p{margin:0;}.css-5p5dk0 .inline-code{background:#64b5f6 !important;}</style><aside class="css-5p5dk0 eum1gdz0"><p><strong>We will be doing the following:</strong></p><ul><li>Creating a React application using<!-- --> <a href="https://facebook.github.io/create-react-app/">Create React App</a>.</li><li>Defining the website&#x27;s valid routes</li><li>Setting up a router</li><li>Rendering different content based on the current location.</li><li>Writing links to navigate within the application.</li></ul></aside></section><section class="css-gmhjbe e1a46ijo0"><style data-emotion-css="1gka4o8">.css-1gka4o8 .header-link{-webkit-text-decoration:none;text-decoration:none;}.css-1gka4o8 .header-link::after{content:"#";color:#333;margin-left:5px;}@media only screen and (min-width:751px){.css-1gka4o8{margin-top:-50px;padding-top:50px;}.css-1gka4o8 .header-link::after{display:none;}.css-1gka4o8 .header-link:hover::after{display:inline-block;}}</style><h2 id="demo" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#demo">Demo</a></h2><p>You can run a demo of the site we are building with CodeSandbox.</p><style data-emotion-css="7wx121">.css-7wx121 p{font-style:italic;text-align:center;margin:0;}@media only screen and (min-width:751px){.css-7wx121{max-width:80vw;margin:0 auto;}}</style><figure class="css-7wx121 egdjct20"><iframe src="https://codesandbox.io/embed/github/curijs/react-basic-tutorial/tree/master/?view=split" width="100%" height="600px" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin" tabindex="-1"></iframe><p>Use the three buttons at the top of the Sandbox to toggle view modes. Clicking the menu button in the top left corner opens a menu to switch between files.</p></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="setup" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#setup">Setup</a></h2><p>We will be using<!-- --> <a href="https://github.com/facebook/create-react-app"><style data-emotion-css="jo5c25">.css-jo5c25{padding:0.1em;border-radius:0.3em;white-space:normal;background:#fff;color:#222233;text-shadow:none;white-space:wrap;}.css-jo5c25 .token{color:#222233;}</style><code class="inline-code css-jo5c25 eutm4hs0">create-react-app</code></a> <!-- -->to develop this website.</p><style data-emotion-css="10wffac">.css-10wffac{padding:10px 5px;margin:5px 0;border:1px solid #c7c7c7;background:#eeeeee;}.css-10wffac p:last-child{margin-bottom:0;}.css-10wffac .inline-code{background:#fff !important;}</style><aside class="css-10wffac e1bjkffy0"><strong>Note:</strong> <p>The instructions here assume that you have NodeJS and NPM installed on your computer. If you do not, cannot, or prefer to avoid setup altogether, you can follow along using<!-- --> <a href="https://codesandbox.io/">CodeSandbox</a>. Some of the boilerplate will be different, but the differences are minor.</p></aside><p>Begin by opening a terminal and navigating to the directory where you want to save your code. Then, we will use <code class="inline-code css-jo5c25 eutm4hs0">npx</code> to create the application.</p><style data-emotion-css="xg7t84">.css-xg7t84{width:100%;margin:0 0 25px;font-size:0.8em;}.css-xg7t84 pre{white-space:pre-wrap;height:100%;vertical-align:top;}@media only screen and (min-width:751px){.css-xg7t84{font-size:1em;}.css-xg7t84 code{min-width:200px;white-space:pre-wrap;}}</style><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">npx create-react-app curi-react-bookstore # create the app
cd curi-react-bookstore # enter the new app directory</code></pre></figure><p>There are three routing related packages that we will be using, so let&#x27;s install them now.</p><p>The <code class="inline-code css-jo5c25 eutm4hs0">@hickory/browser</code> manages locations and navigation within an application. <code class="inline-code css-jo5c25 eutm4hs0">@curi/router</code> creates our router.<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code> provides React components that interact with the router.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">npm install @hickory/browser @curi/router @curi/react-dom</code></pre></figure><p>Next, we can start <code class="inline-code css-jo5c25 eutm4hs0">create-react-app</code>&#x27;s dev server. The dev server will automatically update when we change files, so we can leave that running.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">npm run start # start the dev server</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="routes" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#routes">Routes</a></h2><p>A single-page application is made up of a number of &quot;routes&quot;, which are the valid locations within the application. The router matches the application against its routes to determine which one matches.</p><p>With Curi, routes are JavaScript objects. They have two required properties: <code class="inline-code css-jo5c25 eutm4hs0">name</code> and <code class="inline-code css-jo5c25 eutm4hs0">path</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// this is a route
{ name: &quot;Home&quot;, path: &quot;&quot; }</code></pre></figure><p>A route&#x27;s <code class="inline-code css-jo5c25 eutm4hs0">name</code> needs to be unique. Route names are used to identify which route to interact with for different functionality, like navigation.</p><p>A route&#x27;s <code class="inline-code css-jo5c25 eutm4hs0">path</code> is what the router uses to identify if a location matches the route. The <code class="inline-code css-jo5c25 eutm4hs0">path</code> is only matched against the location&#x27;s pathname, the other parts of a URL are not used for matching.</p><style data-emotion-css="1tcg6np">.css-1tcg6np{margin-top:15px;padding:5px 10px;border-left:2px solid #4caf50;background:#e8f5e9;margin-top:15px;}.css-1tcg6np p{margin:0 0 25px;font-size:0.8em;}@media only screen and (min-width:751px){.css-1tcg6np{max-width:751px;}.css-1tcg6np p{font-size:1em;}.css-1tcg6np.centered{margin:0 auto;}}.css-1tcg6np .inline-code{background:#b7dab9 !important;}</style><aside class="css-1tcg6np e1a46ijo1"><h3 id="path-basics" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#path-basics">Path basics</a></h3><p>Route paths are strings describing the pathname segments of a URL that they should match.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">{ path: &#x27;&#x27; } // matches &quot;/&quot;
{ path: &#x27;about/stuff&#x27; } // matches &quot;/about/stuff&quot;</code></pre></figure><p>Paths never begin with a slash.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// yes
{ path: &#x27;&#x27; }
// no
{ path: &#x27;/&#x27; }</code></pre></figure><p>Paths can include dynamic parameters. These are specified with a string that starts with a colon (<code class="inline-code css-jo5c25 eutm4hs0">:</code>) followed by the name of the params.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// a param named &quot;id&quot;
{ path: &#x27;user/:id&#x27; }
// user/abc -&gt; { id: &quot;abc&quot; }</code></pre></figure><p>Routes can be nested using the <code class="inline-code css-jo5c25 eutm4hs0">children</code> property of a route. A nested route inherits the path from its ancestor route(s), so its <code class="inline-code css-jo5c25 eutm4hs0">path</code> is only the additional part of the pathname that should be matched.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">{
  name: &quot;Parent&quot;,
  path: &quot;parent&quot;, // matches /parent
  children: [
    // matches /parent/daughter
    { name: &quot;Daughter&quot;, path: &quot;daughter&quot; },
    // matches /parent/son
    { name: &quot;Son&quot;, path: &quot;son&quot; }
  ]
}</code></pre></figure></aside><p>The website will start with four routes.</p><style data-emotion-css="ayshjd">.css-ayshjd{overflow-x:auto;}</style><div class="css-ayshjd e18t55xi0"><table><thead><tr><th>name</th><th>path</th><th>use case</th></tr></thead><tbody><tr><td>Home</td><td><code class="inline-code css-jo5c25 eutm4hs0">&quot;&quot;</code></td><td>Lists books available for purchase.</td></tr><tr><td>Book</td><td><code class="inline-code css-jo5c25 eutm4hs0">&quot;book/:id&quot;</code></td><td>Details about an individual book. The <code class="inline-code css-jo5c25 eutm4hs0">id</code> param identifies a specific book.</td></tr><tr><td>Checkout</td><td><code class="inline-code css-jo5c25 eutm4hs0">&quot;checkout&quot;</code></td><td>Buy the books in the shopping cart.</td></tr><tr><td>Catch All</td><td><code class="inline-code css-jo5c25 eutm4hs0">&quot;(.*)&quot;</code></td><td>Display a not found page. This path matches every location (using a regular expression syntax), so it should be the last route.</td></tr></tbody></table></div><aside class="css-10wffac e1bjkffy0"><strong>Note:</strong> <p>Curi uses the<!-- --> <a href="https://github.com/pillarjs/path-to-regexp"><code class="inline-code css-jo5c25 eutm4hs0">path-to-regexp</code></a> <!-- -->package for route matching. You can read its documentation to learn about more advanced path syntax.</p></aside><p>Inside of the <code class="inline-code css-jo5c25 eutm4hs0">src</code> directory, we will create a<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">routes.js</code> file where we can define the application&#x27;s routes.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">touch src/routes.js</code></pre></figure><p>We can create an array of routes using the above names and paths.</p><p><code class="inline-code css-jo5c25 eutm4hs0">@curi/router</code> provides a <code class="inline-code css-jo5c25 eutm4hs0">prepareRoutes</code> function, which is used to setup routes for the router. We will pass the routes array to <code class="inline-code css-jo5c25 eutm4hs0">prepareRoutes</code> and export the result of that function call.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// src/routes.js
import { prepareRoutes } from &quot;@curi/router&quot;;

export default prepareRoutes([
  {
    name: &quot;Home&quot;,
    path: &quot;&quot;
  },
  {
    name: &quot;Book&quot;,
    path: &quot;book/:id&quot;
  },
  {
    name: &quot;Checkout&quot;,
    path: &quot;checkout&quot;
  },
  {
    name: &quot;Catch All&quot;,
    path: &quot;(.*)&quot;
  }
]);</code></pre></figure><p>We will be creating the router in the <code class="inline-code css-jo5c25 eutm4hs0">index.js</code> file, so the routes array should be imported there.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="5"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;

import routes from &quot;./routes&quot;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="history" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#history">History</a></h2><p>The routes define what the application renders for a particular location, but we also need to define how the application navigates. When we create the router, we will pass it a history function that will be used to enable navigation.</p><p>Curi uses the <a href="https://github.com/pshrmn/hickory">Hickory</a> <!-- -->library for its history. There are a few Hickory packages to choose from for different environments. For most websites, the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">@hickory/browser</code> is the right choice for the front end.</p><p>We can import the <code class="inline-code css-jo5c25 eutm4hs0">browser</code> function from<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">@hickory/browser</code> in our index file (<code class="inline-code css-jo5c25 eutm4hs0">src/index.js</code>, which <code class="inline-code css-jo5c25 eutm4hs0">create-react-app</code> created for us).</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="4"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import { browser } from &#x27;@hickory/browser&#x27;;

import routes from &quot;./routes&quot;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="router" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#router">The Router</a></h2><p>We are now ready to create the router. In the <code class="inline-code css-jo5c25 eutm4hs0">src/index.js</code> <!-- -->file, we should import the <code class="inline-code css-jo5c25 eutm4hs0">createRouter</code> function from<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">@curi/router</code>. To create the router, call the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">createRouter</code> function passing it the history function and the <code class="inline-code css-jo5c25 eutm4hs0">routes</code> array.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="4,12"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import { createRouter } from &quot;@curi/router&quot;;
import { browser } from &#x27;@hickory/browser&#x27;;

import routes from &#x27;./routes&#x27;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

const router = createRouter(browser, routes);

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure><p>The router is now ready and we can render the application, but first we should do something really important: make the site more accessible.</p><section class="css-gmhjbe e1a46ijo0"><h3 id="announcing-navigation" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#announcing-navigation">Announcing Navigation</a></h3><p>In a multi-page application, a screen reader will announce navigation to users. This happens automatically when a new Document is loaded. A single-page application reuses its Document, which is great for removing unnecessary server requests, but also means that the navigation is no longer automatically announced.</p><p>Curi has a concept of &quot;side effects&quot;. These are functions that are called after a navigation happens and are passed an object with data about the navigation.</p><p>The <code class="inline-code css-jo5c25 eutm4hs0">@curi/router</code> package provides a few side effects that are useful for websites. For now, we will focus on the<!-- --> <a href="/v2/@curi/router/#announce"><code class="inline-code css-jo5c25 eutm4hs0">announce</code></a> <!-- -->side effect. The <code class="inline-code css-jo5c25 eutm4hs0">announce</code> side effect returns a string, which sets the text content of a<!-- --> <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions">ARIA Live region</a>. Screen readers will detect the changed text and read it to the users.</p><p>Let&#x27;s go ahead and add the <code class="inline-code css-jo5c25 eutm4hs0">announce</code> side effect to the router. We will have it return a string of the response&#x27;s<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">pathname</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="4,12-18"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import { createRouter, announce } from &quot;@curi/router&quot;;
import { browser } from &#x27;@hickory/browser&#x27;;

import routes from &#x27;./routes&#x27;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

const router = createRouter(browser, routes, {
  sideEffects: [
    announce(({ response }) =&gt; {
      return `Navigated to ${response.location.pathname}`;
    })
  ]
});

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure></section></section><section class="css-gmhjbe e1a46ijo0"><h2 id="rendering" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#rendering">Rendering with React</a></h2><p>The <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code> provides the components that we will use to interact with the router.</p><p>We create a <code class="inline-code css-jo5c25 eutm4hs0">Router</code> component by passing the router to the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">createRouterComponent</code> higher-order component.</p><aside class="css-10wffac e1bjkffy0"><strong>Note:</strong> <p>Curi uses a higher-order component to create a component instead of a regular component because the router is a permanent &quot;prop&quot;. An application should only have one router, so this approach discourages trying to swap routers.</p></aside><figure class="css-xg7t84 e12etsbl0"><pre data-line="6,20"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import { createRouter, announce } from &quot;@curi/router&quot;;
import { browser } from &#x27;@hickory/browser&#x27;;
import { createRouterComponent } from &quot;@curi/react-dom&quot;;

import routes from &#x27;./routes&#x27;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

const router = createRouter(browser, routes, {
  sideEffects: [
    announce(({ response }) =&gt; {
      return `Navigated to ${response.location.pathname}`;
    })
  ]
});
const Router = createRouterComponent(router);

ReactDOM.render(&lt;App /&gt;, document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure><p>The <code class="inline-code css-jo5c25 eutm4hs0">Router</code> component will re-render the application whenever there is in-app navigation. It also sets up a React context, so any <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code> components and hooks need to be descendants of the <code class="inline-code css-jo5c25 eutm4hs0">Router</code> in order to access the context.</p><p>We will pass the <code class="inline-code css-jo5c25 eutm4hs0">Router</code> the <code class="inline-code css-jo5c25 eutm4hs0">App</code> element, which is where we will render the application&#x27;s content.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="22-26"><code class="language-jsx">// src/index.js
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom&#x27;;
import { createRouter, announce } from &quot;@curi/router&quot;;
import { browser } from &#x27;@hickory/browser&#x27;;
import { createRouterComponent } from &quot;@curi/react-dom&quot;;

import routes from &#x27;./routes&#x27;;
import &#x27;./index.css&#x27;;
import App from &#x27;./App&#x27;;
import registerServiceWorker from &#x27;./registerServiceWorker&#x27;;

const router = createRouter(browser, routes, {
  sideEffects: [
    announce(({ response }) =&gt; {
      return `Navigated to ${response.location.pathname}`;
    })
  ]
});
const Router = createRouterComponent(router);

ReactDOM.render((
  &lt;Router&gt;
    &lt;App /&gt;
  &lt;/Router&gt;
), document.getElementById(&#x27;root&#x27;));
registerServiceWorker();</code></pre></figure><p>The existing content from <code class="inline-code css-jo5c25 eutm4hs0">src/App.js</code> can be removed and we will start from scratch.</p><p>We will import the<!-- --> <a href="/v2/@curi/react-dom/#useResponse"><code class="inline-code css-jo5c25 eutm4hs0">useResponse</code> hook</a> <!-- -->from <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code>. This hook lets us read the context data that was set by the <code class="inline-code css-jo5c25 eutm4hs0">Router</code>. <code class="inline-code css-jo5c25 eutm4hs0">useResponse</code> <!-- -->returns three objects: <code class="inline-code css-jo5c25 eutm4hs0">router</code>, <code class="inline-code css-jo5c25 eutm4hs0">response</code>, and<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">navigation</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/App.js
import React from &quot;react&quot;;
import { useResponse } from &quot;@curi/react-dom&quot;;

export default function App() {

}</code></pre></figure><p>The <code class="inline-code css-jo5c25 eutm4hs0">router</code> property is our Curi router, but what are the other two?</p><aside class="css-1tcg6np e1a46ijo1"><h3 id="responses" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#responses">Responses and Navigation</a></h3><p>Whenever Curi receives a location, it matches its routes against it and creates a response object, which contains data about the route that matched the location.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// a sample response object
{
  body: undefined,
  data: undefined,
  location: { pathname: &#x27;/&#x27;, ... },
  name: &#x27;Home&#x27;,
  params: {},
  partials: [],
  meta: {
    status: 200
  }
}</code></pre></figure><p>The router uses the<!-- --> <a href="https://en.wikipedia.org/wiki/Observer_pattern">observer pattern</a> <!-- -->to register functions that will be called when a new response is created. The <code class="inline-code css-jo5c25 eutm4hs0">Router</code> automatically observes the router so that it can re-render the application whenever there is a new response.</p><p>The <code class="inline-code css-jo5c25 eutm4hs0">navigation</code> object contains additional information about a navigation that doesn&#x27;t make sense to include in the response object. This includes the navigation&#x27;s &quot;action&quot; (<code class="inline-code css-jo5c25 eutm4hs0">push</code>, <code class="inline-code css-jo5c25 eutm4hs0">pop</code>, or <code class="inline-code css-jo5c25 eutm4hs0">replace</code>) and the previous response object.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// a sample navigation object
{
  action: &quot;push&quot;,
  previous: { name: ..., location: ..., ... }
}</code></pre></figure></aside><p>The response is the most useful of these three properties, but the other two may can be handy. For example, the <code class="inline-code css-jo5c25 eutm4hs0">navigation</code> can be useful for animating route transitions.</p><p>How do we render using the <code class="inline-code css-jo5c25 eutm4hs0">response</code>? Any way you want! The best way is to use a <code class="inline-code css-jo5c25 eutm4hs0">response</code>&#x27;s <code class="inline-code css-jo5c25 eutm4hs0">body</code> property.</p><aside class="css-1tcg6np e1a46ijo1"><h3 id="route-respond" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#route-respond">route.respond</a></h3><p>Route&#x27;s can have a <code class="inline-code css-jo5c25 eutm4hs0">respond</code> property, which is a function that returns an object. The (valid) properties of the object will be merged onto the response object.</p><p>One of these valid properties is <code class="inline-code css-jo5c25 eutm4hs0">body</code>, so if the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">respond</code> function returns an object with a <code class="inline-code css-jo5c25 eutm4hs0">body</code> <!-- -->property, we can access it from the response as<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">response.body</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">{
  name: &quot;Home&quot;,
  path: &quot;&quot;,
  respond() {
    return {
      body: &quot;Home, sweet home.&quot;
    };
    /*
      * response = {
      *   name: &quot;Home&quot;,
      *   location: {...},
      *   body: &quot;Home, sweet home.&quot;,
      *   // ...
      * }
      */
  }
}</code></pre></figure></aside><p>We can update the <code class="inline-code css-jo5c25 eutm4hs0">App</code> to get the response using<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">useResponse</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="6"><code class="language-jsx">// src/App.js
import React from &quot;react&quot;;
import { useResponse } from &quot;@curi/react-dom&quot;;

export default function App() {
  const { response } = useResponse();
}</code></pre></figure><p>If a response&#x27;s <code class="inline-code css-jo5c25 eutm4hs0">body</code> is a React component, we can render it! We haven&#x27;t actually defined components for our routes yet, so we should throw together some placeholders.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">mkdir -p src/components
touch src/components/Home.js src/components/Book.js \
  src/components/Checkout.js src/components/NotFound.js</code></pre></figure><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/Home.js
import React from &#x27;react&#x27;;

export default function Home() {
  return (
    &lt;article&gt;
      &lt;p&gt;Home&lt;/p&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/Book.js
import React from &#x27;react&#x27;;

export default function Book(){
  return (
    &lt;article&gt;
      &lt;p&gt;Book&lt;/p&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/Checkout.js
import React from &#x27;react&#x27;;

export default function Checkout() {
  return (
    &lt;article&gt;
      &lt;p&gt;Checkout&lt;/p&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/NotFound.js
import React from &#x27;react&#x27;;

export default function NotFound() {
  return (
    &lt;article&gt;
      &lt;p&gt;Not Found&lt;/p&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><p>These components can be imported in <code class="inline-code css-jo5c25 eutm4hs0">src/routes.js</code>. Each route can be given a <code class="inline-code css-jo5c25 eutm4hs0">respond</code> function which returns an object with their respective component as its <code class="inline-code css-jo5c25 eutm4hs0">body</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="4-7,13-15,20-22,27-29,34-36"><code class="language-javascript">// src/routes.js
import { prepareRoutes } from &quot;@curi/router&quot;;

import Home from &#x27;./components/Home&#x27;;
import Book from &#x27;./components/Book&#x27;;
import Checkout from &#x27;./components/Checkout&#x27;;
import NotFound from &#x27;./components/NotFound&#x27;;

export default prepareRoutes([
  {
    name: &quot;Home&quot;,
    path: &quot;&quot;,
    respond() {
      return { body: Home };
    }
  },
  {
    name: &quot;Book&quot;,
    path: &quot;book/:id&quot;,
    respond() {
      return { body: Book };
    }
  },
  {
    name: &quot;Checkout&quot;,
    path: &quot;checkout&quot;,
    respond() {
      return { body: Checkout };
    }
  },
  {
    name: &quot;Catch All&quot;,
    path: &quot;(.*)&quot;,
    respond() {
      return { body: NotFound };
    }
  }
]);</code></pre></figure><p>Now that the responses have <code class="inline-code css-jo5c25 eutm4hs0">body</code> properties that are React components, we can update the <code class="inline-code css-jo5c25 eutm4hs0">App</code> to render them.</p><p>We will also pass the <code class="inline-code css-jo5c25 eutm4hs0">response</code> as a prop to the rendered component, which means that each of the route components will have access to the <code class="inline-code css-jo5c25 eutm4hs0">response</code> when they are rendered. This isn&#x27;t strictly necessary, but can come in handy.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="7-8"><code class="language-jsx">// src/App.js
import React from &quot;react&quot;;
import { useResponse } from &quot;@curi/react-dom&quot;;

export default function App() {
  const { response } = useResponse();
  const { body:Body } = response;
  return &lt;Body response={response} /&gt;
}</code></pre></figure><p>At this point in time our app is rendering, but is isn&#x27;t very interesting because we cannot navigate between locations.</p></section><section class="css-gmhjbe e1a46ijo0"><h2 id="navigating" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#navigating">Navigating between locations</a></h2><p>The <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code> package provides a <code class="inline-code css-jo5c25 eutm4hs0">Link</code> <!-- -->component that we can use to navigate between locations within our application.</p><aside class="css-1tcg6np e1a46ijo1"><h3 id="link-component" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#link-component">The &lt;Link&gt; Component</a></h3><p>Navigation isn&#x27;t done by manually typing the pathname of the location the link should navigate to. Instead, we specify the name of the route using the <code class="inline-code css-jo5c25 eutm4hs0">name</code> prop.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// { name: &quot;Home&quot;, path: &quot;&quot; }
&lt;Link name=&quot;Home&quot;&gt;Home&lt;/Link&gt;
// &lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;</code></pre></figure><p>If a route has params, we provide these to the <code class="inline-code css-jo5c25 eutm4hs0">Link</code> as a<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">params</code> object. For a nested route, we would also need to provide params for any ancestor routes.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// { name: &quot;Book&quot;, path: &quot;book/:id&quot; }
&lt;Link name=&quot;Book&quot; params={{ id: 7 }}&gt;The Dark Forest&lt;/Link&gt;
// &lt;a href=&quot;/book/7&quot;&gt;The Dark Forest&lt;/a&gt;</code></pre></figure><p>The <code class="inline-code css-jo5c25 eutm4hs0">Link</code> is only for in-app navigation. If you want to link to pages outside of the application, use an anchor.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// in-app
&lt;Link name=&quot;Some Route&quot;&gt;Some Route&lt;/Link&gt;

// out of app
&lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;</code></pre></figure><p>If you need to attach query or hash data to a <code class="inline-code css-jo5c25 eutm4hs0">Link</code>, use the <code class="inline-code css-jo5c25 eutm4hs0">query</code> and <code class="inline-code css-jo5c25 eutm4hs0">hash</code> props.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// { name: &quot;Checkout&quot;, path: &quot;checkout&quot; }
&lt;Link name=&quot;Checkout&quot; query=&#x27;affiliate=123&#x27;&gt;Checkout&lt;/Link&gt;
// &lt;a href=&quot;/checkout?affiliate=123&quot;&gt;Checkout&lt;/a&gt;</code></pre></figure></aside><section class="css-gmhjbe e1a46ijo0"><h3 id="nav-menu" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#nav-menu">A Navigation Menu</a></h3><p>The application will have a navigation menu component with links to our home page and checkout page.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">touch src/components/NavMenu.js</code></pre></figure><p>In order to link to these routes, we only need to know their name, not the actual pathname for the URL.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/NavMenu.js
import React from &#x27;react&#x27;;
import { Link } from &#x27;@curi/react-dom&#x27;;

export default function NavMenu() {
  return (
    &lt;nav&gt;
      &lt;ul&gt;
        &lt;li&gt;
          &lt;Link name=&quot;Home&quot;&gt;Home&lt;/Link&gt;
        &lt;/li&gt;
        &lt;li&gt;
          &lt;Link name=&quot;Checkout&quot;&gt;Checkout&lt;/Link&gt;
        &lt;/li&gt;
      &lt;/ul&gt;
    &lt;/nav&gt;
  );
}</code></pre></figure><p>The menu can be rendered by the <code class="inline-code css-jo5c25 eutm4hs0">App</code> component. We can also add structure to the site by rendering <code class="inline-code css-jo5c25 eutm4hs0">&lt;<!-- -->header<!-- -->&gt;</code> and<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">&lt;<!-- -->main<!-- -->&gt;</code> elements around their respective content.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="5,10-19"><code class="language-jsx">// src/App.js
import React from &quot;react&quot;;
import { useResponse } from &quot;@curi/react-dom&quot;;

import NavMenu from &#x27;./components/NavMenu&#x27;;

export default function App() {
  const { response } = useResponse();
  const { body:Body } = response;
  return (
    &lt;React.Fragment&gt;
      &lt;header&gt;
        &lt;NavMenu /&gt;
      &lt;/header&gt;
      &lt;main&gt;
        &lt;Body response={response} /&gt;
      &lt;/main&gt;
    &lt;/React.Fragment&gt;
  );
}</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h3 id="book-links" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#book-links">Linking to Books</a></h3><p>The website should link to individual books from its home page. To do this, we need data about the available books. Since we don&#x27;t have a backend to fetch book data from, we&#x27;ll hard-code the books data in the <code class="inline-code css-jo5c25 eutm4hs0">src/books.js</code> module.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">touch src/books.js</code></pre></figure><p>You can copy+paste or modify the data, but the structure of the provided data should stay the same.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// src/books.js
export default [
  {
    id: 0,
    title: &#x27;The Name of the Wind&#x27;,
    author: &#x27;Patrick Rothfuss&#x27;,
    published: &#x27;2007&#x27;,
    pages: 662
  },
  {
    id: 1,
    title: &quot;The Wise Man&#x27;s Fear&quot;,
    author: &#x27;Patrick Rothfuss&#x27;,
    published: &#x27;2011&#x27;,
    pages: 994
  },
  {
    id: 2,
    title: &#x27;The Way of Kings&#x27;,
    author: &#x27;Brandon Sanderson&#x27;,
    published: &#x27;2010&#x27;,
    pages: 1007
  },
  {
    id: 3,
    title: &#x27;A Storm of Swords&#x27;,
    author: &#x27;George R.R. Martin&#x27;,
    published: &#x27;2003&#x27;,
    pages: 1177
  },
  {
    id: 78,
    title: &#x27;Words of Radiance&#x27;,
    author: &#x27;Brandon Sanderson&#x27;,
    published: &#x27;2014&#x27;,
    pages: 1087
  }
];</code></pre></figure><p>The data can be imported in the <code class="inline-code css-jo5c25 eutm4hs0">Home</code> component and we can iterate over the books to render a <code class="inline-code css-jo5c25 eutm4hs0">Link</code> to each one.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="5,8-20"><code class="language-jsx">// src/components/Home.js
import React from &#x27;react&#x27;;
import { Link } from &#x27;@curi/react-dom&#x27;;

import books from &#x27;../books&#x27;;

export default function Home() {
  return (
    &lt;article&gt;
      &lt;ul&gt;
        {books.map(book =&gt; (
          &lt;li key={book.id}&gt;
            &lt;Link name=&quot;Book&quot; params={{ id: book.id }} &gt;
              {book.title} by {book.author}
            &lt;/Link&gt;
          &lt;/li&gt;
        ))}
      &lt;/ul&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><p>Now that we can navigate to the books, we should fill out the UI for the <code class="inline-code css-jo5c25 eutm4hs0">Book</code> component. Up above, we passed the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">response</code> object as a prop to the <code class="inline-code css-jo5c25 eutm4hs0">response.body</code> <!-- -->component. Now, we can use that object in the <code class="inline-code css-jo5c25 eutm4hs0">Book</code> <!-- -->component to access the captured route params so that we know which book to show.</p><p>We will once again import the <code class="inline-code css-jo5c25 eutm4hs0">books.js</code> data. We can use<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">params.id</code> to select the correct book.<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">params.id</code> is a string, so we will need to parse it into an integer. Sometimes there won&#x27;t be a valid book for the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">params.id</code>. In that case, we will also want to display a message that the requested book could not be found.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="4,6-20"><code class="language-jsx">// src/components/Book.js
import React from &#x27;react&#x27;;

import books from &#x27;../books&#x27;;

export default function Book({ response }) {
  const id = parseInt(response.params.id, 10);
  const book = books.find(b =&gt; b.id === id);
  if (!book) {
    return (
      &lt;article&gt;
        &lt;p&gt;The requested book could not be found&lt;/p&gt;
      &lt;/article&gt;
    );
  }
  return (
    &lt;article&gt;
      &lt;h1&gt;{book.title}&lt;/h1&gt;
      &lt;h2&gt;by {book.author}&lt;/h2&gt;
      &lt;p&gt;Published in {book.published}&lt;/p&gt;
      &lt;p&gt;{book.pages} pages&lt;/p&gt;
    &lt;/article&gt;
  );
}</code></pre></figure></section></section><section class="css-gmhjbe e1a46ijo0"><h2 id="shopping" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#shopping">A Shopping API</a></h2><p>Users of the website should be able to add books to their shopping cart. For brevity, we will store the cart data in memory (i.e. it will be lost when refreshing the page).</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-bash">touch src/cart.js</code></pre></figure><p>The shopping cart implementation will be a JavaScript <code class="inline-code css-jo5c25 eutm4hs0">Map</code>. We can call its <code class="inline-code css-jo5c25 eutm4hs0">set</code> method to add books, its<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">clear</code> method to reset the cart, and iterate over its<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">entries</code> with a <code class="inline-code css-jo5c25 eutm4hs0">for...of</code> loop.</p><aside class="css-10wffac e1bjkffy0"><strong>Note:</strong> <p>The <code class="inline-code css-jo5c25 eutm4hs0">Map</code> or some of its features may not work in older browsers.</p></aside><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// src/cart.js
const cart = new Map();

export default {
  add(book, quantity) {
    cart.set(book, quantity);
  },
  items() {
    const books = [];
    for (let [book, quantity] of cart.entries()) {
      books.push({
        title: book.title,
        quantity
      });
    }
    return books;
  },
  reset() {
    cart.clear();
  }
};</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="useRouter" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#useRouter">Using useRouter</a></h2><p>The <code class="inline-code css-jo5c25 eutm4hs0">useRouter</code> hook allows us to access our router from anywhere in our component tree (that is a descendant of the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">&lt;<!-- -->Router<!-- -->&gt;</code>).</p><p>While links are generally the best way to navigate, sometimes an application should navigate as the result of another action. For instance, after a user login is authenticated, the application may redirect to another page.</p><p>We will implement something similar in the <code class="inline-code css-jo5c25 eutm4hs0">Book</code> component by having the application navigate to their shopping cart after they add a book to it.</p><aside class="css-1tcg6np e1a46ijo1"><h3 id="url-nav-method" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#url-nav-method">The Router&#x27;s URL &amp; Navigate Methods</a></h3><p>The router has a <code class="inline-code css-jo5c25 eutm4hs0">url</code> method that is used to generate a URL string using the name of a route and an object of the route&#x27;s params.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">const url = router.url({ name: &quot;New&quot; });</code></pre></figure><p>The router&#x27;s <code class="inline-code css-jo5c25 eutm4hs0">navigate</code> method is used to navigate; it takes a URL (such as one defined using <code class="inline-code css-jo5c25 eutm4hs0">router.url</code>). The function can also take a <code class="inline-code css-jo5c25 eutm4hs0">method</code> type for the navigation:<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">push</code>, <code class="inline-code css-jo5c25 eutm4hs0">replace</code>, or <code class="inline-code css-jo5c25 eutm4hs0">anchor</code>.</p><p><code class="inline-code css-jo5c25 eutm4hs0">push</code> pushes a new location after the current index, removing any locations after the current location.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/three&#x27;]
// index = 1
// current = &#x27;/two&#x27;
router.navigate({ url: &quot;/new&quot;, method: &quot;push&quot; });
// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/new&#x27;]
// index = 2
// current = &#x27;/new&#x27;</code></pre></figure><p><code class="inline-code css-jo5c25 eutm4hs0">replace</code> replaces the location at the current index.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/three&#x27;]
// index = 1
// current = &#x27;/two&#x27;
router.navigate({ url: &quot;/replacement&quot;, method: &quot;replace&quot; });
// session = [&#x27;/one&#x27;, &#x27;/replacement&#x27;, &#x27;/three&#x27;]
// index = 1
// current = &#x27;/replacement&#x27;</code></pre></figure><p><code class="inline-code css-jo5c25 eutm4hs0">anchor</code> is a mix between <code class="inline-code css-jo5c25 eutm4hs0">push</code> and<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">replace</code>. It mimics the behavior of clicking on links, so if you navigate to the same location as the current one it will replace, and if you navigate to a new location it will push.</p><p>If <code class="inline-code css-jo5c25 eutm4hs0">method.navigate</code> is called without a navigation<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">method</code>, it will default to <code class="inline-code css-jo5c25 eutm4hs0">anchor</code>.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-javascript">// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/three&#x27;]
// index = 1
// current = &#x27;/two&#x27;
router.navigate({ url: &quot;/two&quot;, method: &quot;anchor&quot; });
// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/three&#x27;]
// index = 1
// current = &#x27;/two&#x27;
router.navigate({ url: &quot;/new&quot;, method: &quot;anchor&quot; });
// session = [&#x27;/one&#x27;, &#x27;/two&#x27;, &#x27;/new&#x27;]
// index = 2
// current = &#x27;/new&#x27;<!-- -->`}</code></pre></figure></aside><p>In the <code class="inline-code css-jo5c25 eutm4hs0">Book</code> components module, we should import the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">useRouter</code> hook from <code class="inline-code css-jo5c25 eutm4hs0">@curi/react-dom</code> as well as our shopping cart API.</p><figure class="css-xg7t84 e12etsbl0"><pre data-line="3,6,21-30"><code class="language-jsx">// src/components/Book.js
import React from &#x27;react&#x27;;
import { useRouter } from &#x27;@curi/react-dom&#x27;;

import books from &#x27;../books&#x27;;
import cart from &#x27;../cart&#x27;;

export default function Book({ response }) {
  const router = useRouter();
  const id = parseInt(response.params.id, 10);
  const book = books.find(b =&gt; b.id === id);
  if (!book) {
    return (
      &lt;article&gt;
        &lt;p&gt;The requested book could not be found&lt;/p&gt;
      &lt;/article&gt;
    );
  }
  return (
    &lt;article&gt;
      &lt;h1&gt;{book.title}&lt;/h1&gt;
      &lt;h2&gt;by {book.author}&lt;/h2&gt;
      &lt;p&gt;Published in {book.published}&lt;/p&gt;
      &lt;p&gt;{book.pages} pages&lt;/p&gt;
      &lt;button
        type=&quot;button&quot;
        onClick={() =&gt; {
          cart.add(book, 1);
          const url = router.url({ name: &quot;Checkout&quot; });
          router.navigate({ url });
        }}
      &gt;
        Add to Cart
      &lt;/button&gt;
    &lt;/article&gt;
  );
}</code></pre></figure><p>Finally, we can update our <code class="inline-code css-jo5c25 eutm4hs0">Checkout</code> component to display the books in the shopping cart. To do this, we will import our cart and books. Our cart only stores book <code class="inline-code css-jo5c25 eutm4hs0">id</code>s, so we will need to merge the book data with the cart data.</p><p>When a user &quot;buys&quot; the books in their shopping cart, we need to clear out the cart. We will also replace the current location with one whose<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">location.hash</code> is the string &quot;thanks&quot;. When that is present in the location, we can render a &quot;Thanks for your purchase&quot; message instead of the cart&#x27;s contents. Once again, we will use the<!-- --> <code class="inline-code css-jo5c25 eutm4hs0">useRouter</code> hook to access the router in order to change locations.</p><figure class="css-xg7t84 e12etsbl0"><pre><code class="language-jsx">// src/components/Checkout.js
import React from &#x27;react&#x27;;
import { useRouter } from &#x27;@curi/react-dom&#x27;;

import cart from &#x27;../cart&#x27;;

export default function Checkout({ response }) {
  const router = useRouter();
  const books = cart.items();
  if (!books.length) {
    return response.location.hash === &#x27;thanks&#x27;
      ? &lt;article&gt;
          &lt;p&gt;Thanks for your purchase!&lt;/p&gt;
        &lt;/article&gt;
      : &lt;article&gt;
          &lt;p&gt;The cart is currently empty&lt;/p&gt;
        &lt;/article&gt;;
  }
  return (
    &lt;article&gt;
      &lt;h1&gt;Checkout&lt;/h1&gt;
      &lt;ScrollableTable&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;Title&lt;/th&gt;
            &lt;th&gt;Quantity&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
          {books.map(book =&gt; (
            &lt;tr key={book.title}&gt;
              &lt;td&gt;{book.title}&lt;/td&gt;
              &lt;td&gt;{book.quantity}&lt;/td&gt;
            &lt;/tr&gt;
          ))}
        &lt;/tbody&gt;
      &lt;/ScrollableTable&gt;
      &lt;button
        type=&quot;button&quot;
        onClick={() =&gt; {
          cart.reset();
          const url = router.url({
            name: &quot;Checkout&quot;,
            hash: &quot;thanks&quot;
          });
          router.navigate({ url, method: &quot;replace&quot; });
        }}
      &gt;
        Buy
      &lt;/button&gt;
    &lt;/article&gt;
  );
};</code></pre></figure></section><section class="css-gmhjbe e1a46ijo0"><h2 id="next" tabindex="-1" style="outline:none" class="css-1gka4o8"><a class="header-link" href="#next">What&#x27;s next?</a></h2><p>We now have a functional website built with React and Curi. What should you do next? Build another site!</p><p>There is an<!-- --> <a href="/tutorial/react-advanced/">advanced React tutorial</a> <!-- -->that continues where this tutorial leaves off. The advanced tutorial implements code splitting and data prefetching.</p><p>You can also check out the <a href="/guides/">guides</a> for information on other advanced techniques.</p></section></article><style data-emotion-css="64fwtw">.css-64fwtw{display:none;}@media only screen and (min-width:751px){.css-64fwtw{background:#efefef;display:block;position:fixed;top:50px;bottom:0px;overflow:auto;-webkit-flex:0 0;-ms-flex:0 0;flex:0 0;-webkit-order:-1;-ms-flex-order:-1;order:-1;padding:25px;margin-right:25px;}}</style><div class="css-64fwtw e1hcridg2"><style data-emotion-css="gnbpx8">.css-gnbpx8{width:200px;padding:0;margin:0;}.css-gnbpx8 p{margin:0;}.css-gnbpx8 a{-webkit-text-decoration:none;text-decoration:none;display:block;}.css-gnbpx8 ol{padding-left:0;margin-top:0;list-style-type:none;}.css-gnbpx8 ol ol{padding-left:15px;font-size:0.9em;}</style><menu class="css-gnbpx8 e1evhjzy0"><ol><li><a href="#demo">Demo</a></li><li><a href="#setup">Setup</a></li><li><a href="#routes">Routes</a><ol><li><a href="#path-basics">Path basics</a></li></ol></li><li><a href="#history">History</a></li><li><a href="#router">The Router</a><ol><li><a href="#announcing-navigation">Announcing Navigation</a></li></ol></li><li><a href="#rendering">Rendering with React</a><ol><li><a href="#responses">Responses and Navigation</a></li><li><a href="#route-respond">route.respond</a></li></ol></li><li><a href="#navigating">Navigating between locations</a><ol><li><a href="#link-component">The &lt;Link&gt; Component</a></li><li><a href="#nav-menu">A Navigation Menu</a></li><li><a href="#book-links">Linking to Books</a></li></ol></li><li><a href="#shopping">A Shopping API</a></li><li><a href="#useRouter">Using useRouter</a><ol><li><a href="#url-nav-method">The Router&#x27;s URL &amp; Navigate Methods</a></li></ol></li><li><a href="#next">What&#x27;s next?</a></li></ol></menu></div></div></main></div>
    <script src="https://unpkg.com/react@16.8.6/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.8.6/umd/react-dom.production.min.js"></script>
    <script src="/static/js/highlight.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
