<!doctype html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>React Router v2/3 Guide | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><style data-emotion-css="aasxp9-header">.css-aasxp9-header{background:#222233;width:100%;padding:30px 15px;}.css-aasxp9-header nav{color:#efefef;}.css-aasxp9-header nav ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;list-style:none;padding:0;margin:0;}.css-aasxp9-header nav li{padding:0 10px;}.css-aasxp9-header nav a{color:#efefef;font-size:1.1em;-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:50px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #222233;}.css-aasxp9-header nav a:hover{color:#ff9800;}.css-aasxp9-header nav a.active{color:#ff9800;border-bottom-color:#ff9800;}.css-aasxp9-header .home-link{font-size:1.5em;color:#ff9800;}@media only screen and (min-width:641px){.css-aasxp9-header{padding:0;position:fixed;z-index:1;}.css-aasxp9-header nav ul{max-width:100%;}.css-aasxp9-header nav ul li{margin-right:20px;padding:0;}.css-aasxp9-header nav a{border-bottom-width:3px;padding:0 5px;}}</style><header class="css-aasxp9-header"><nav><ul><li><a class="home-link " href="/">Curi</a></li><li><a class=" " href="/packages">Packages</a></li><li><a class=" " href="/guides/getting-started/">Guides</a></li><li><a class=" " href="/tutorial">Tutorials</a></li><li><a class=" " href="/examples">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></header><style data-emotion-css="x6k3qt-main">.css-x6k3qt-main{width:calc(100vw - 20px);padding:10px 10px 0;margin-bottom:20px;}.css-x6k3qt-main a{color:#222233;}@media only screen and (min-width:641px){.css-x6k3qt-main{padding:50px 25px 0;}}</style><main class="css-x6k3qt-main"><style data-emotion-css="jb12jd-page">.css-jb12jd-page{position:relative;}@media only screen and (min-width:641px){.css-jb12jd-page{padding-top:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row-nowrap;-ms-flex-flow:row-nowrap;flex-flow:row-nowrap;}}</style><div class="css-jb12jd-page guide"><style data-emotion-css="1oop4xp-content">.css-1oop4xp-content ul{padding:0;list-style:none;}@media only screen and (min-width:641px){.css-1oop4xp-content{-webkit-order:2;-ms-flex-order:2;order:2;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;padding:0 50px;}}</style><div class="css-1oop4xp-content"><h1>React Router v2/3</h1><style data-emotion-css="1kutd5m-sidebySide">.css-1kutd5m-sidebySide{margin:10px 0 20px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;}@media only screen and (min-width:641px){.css-1kutd5m-sidebySide > :first-child{margin-right:20px;}}</style><div class="css-1kutd5m-sidebySide"><style data-emotion-css="18ghg7h-explanation">.css-18ghg7h-explanation{width:100%;}.css-18ghg7h-explanation p{margin:0 0 25px;}@media only screen and (min-width:641px){.css-18ghg7h-explanation{-webkit-flex:1 1 50%;-ms-flex:1 1 50%;flex:1 1 50%;max-width:600px;}}</style><div class="css-18ghg7h-explanation"><p>Curi is mostly conceptually similar to React Router versions 2 and 3.</p><ol><li>Both use a centralized router.</li><li>Both routers are made up of route objects (although with React Router some of these are disguised as JSX with <code class="language-jsx">&lt;<!-- -->Route<!-- -->&gt;</code> <!-- -->components).</li><li>With both Reaft Router and Curi, routes can be nested. This can be used to specify child routes that build off of the paths from their parent routes.</li></ol><p>Migration from React Router v2/3 to Curi should not require a complete reworking of your application, but there are some key differences.</p><ol><li>Curi&#x27;s routing is handled entirely outside of React; there are no<!-- --> <code class="language-jsx">&lt;<!-- -->Route<!-- -->&gt;</code> components.</li><li>With Curi, when a nested route matches, only that route renders. Any ancestor routes that also (partially) match are not rendered. This is different from React Router, where ancestors of the best matched route also render.</li></ol></div></div><style data-emotion-css="1ten54b-section">.css-1ten54b-section.section,.css-1ten54b-section.subsection{margin-top:15px;}.css-1ten54b-section.section .header-link,.css-1ten54b-section.subsection .header-link{margin-left:10px;-webkit-text-decoration:none;text-decoration:none;color:#666;}.css-1ten54b-section.aside{padding:5px 10px;border-left:2px solid #4caf50;background:#e8f5e9;margin-top:15px;}.css-1ten54b-section.aside .header-link{margin-left:10px;-webkit-text-decoration:none;text-decoration:none;color:#666;}.css-1ten54b-section.aside:not(pre) > code[class*="language-"]{background:#81c784;}</style><div class="css-1ten54b-section section" id="routes"><h2>Routes<a class="header-link" href="/guides/migrate-rrv3/#routes">#</a></h2><p>Let’s get started with setting up our routes.</p><div class="css-1ten54b-section subsection" id="routes-with-react-router"><h3>With React Router<a class="header-link" href="/guides/migrate-rrv3/#routes-with-react-router">#</a></h3><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>In React Router v2/3, there are two ways to define routes. You can either use JavaScript objects or JSX <code class="language-jsx">&lt;<!-- -->Route<!-- -->&gt;</code>s (which React Router converts to JavaScript objects).</p><p>Both styles described above define the same route structure for three routes: <code class="language-javascript">/</code>, <code class="language-javascript">/inbox</code>, and<!-- --> <code class="language-javascript">/inbox/:message</code>. Each one of these has a component that will be rendered when it matches. The <code class="language-javascript">/inbox/:message</code> <!-- -->route has some methods defined to describe its behavior when the route enters, updates, and leaves.</p></div><style data-emotion-css="18z6812-codeBlock">.css-18z6812-codeBlock{width:100%;}.css-18z6812-codeBlock pre{height:100%;vertical-align:top;}@media only screen and (min-width:641px){.css-18z6812-codeBlock{-webkit-flex:1 0 50%;-ms-flex:1 0 50%;flex:1 0 50%;}.css-18z6812-codeBlock code{min-width:200px;}}</style><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">// JavaScript objects
{
  path: &#x27;/&#x27;,
  component: App,
  indexRoute: Home,
  childRoutes: [
    {
      path: &#x27;inbox&#x27;,
      component: Inbox,
      childRoutes: [
        {
          path: &#x27;:message&#x27;,
          component: Message,
          onEnter: (next) =&gt; {...},
          onChange: (prev, next) =&gt; {...},
          onLeave: (prev) =&gt; {...}
        }
      ]
    }
  ]
// JSX
&lt;Route path=&#x27;/&#x27; component={App}&gt;
  &lt;IndexRoute component={Home} /&gt;
  &lt;Route path=&#x27;inbox&#x27; component={Inbox}&gt;
    &lt;Route
      path=&#x27;:message&#x27;
      component={Message}
      onEnter={next =&gt; {...}}
      onChange={(prev, next) =&gt; {...}}
      onLeave={prev =&gt; {...}}
    /&gt;
  &lt;/Route&gt;
&lt;/Route&gt;</code></pre></div></div></div><div class="css-1ten54b-section subsection" id="routes-with-curi"><h3>With Curi<a class="header-link" href="/guides/migrate-rrv3/#routes-with-curi">#</a></h3><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>Routes in Curi are always JavaScript objects. Like React Router, each route object has a path property that describes the path segments that the route matches. React Router v2/3 uses a custom path matcher, but Curi uses <code class="language-javascript">path-to-regexp</code>. You can read learn how to format paths from the<!-- --> <a href="https://github.com/pillarjs/path-to-regexp"><code class="language-javascript">path-to-regexp</code> repo</a>.</p><p>First, we will define the names and paths for our routes.</p><p>Each route must also have a unique name. A route&#x27;s name will be used for interacting with it. For example, to navigate to a route, you only have to know its name, not its URL.</p><p>The biggest difference between the Curi paths and the React Router paths is that with Curi, you never include a forward slash at the beginning of the path. This means that while the root path for React Router is <code class="language-javascript">&#x27;/&#x27;</code>, the root path for Curi is<!-- --> <code class="language-javascript">&#x27;&#x27;</code>.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">const routes = [
  {
    name: &#x27;Home&#x27;,
    path: &#x27;&#x27;
  },
  {
    name: &#x27;Inbox&#x27;,
    path: &#x27;inbox&#x27;,
    children: [
      {
        name: &#x27;Message&#x27;,
        path: &#x27;:message&#x27;
      }
    ]
  }
];</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>Next, we should add our components to each route. We will ignore the <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code> component that is used in the React Router routes. That is not route specific and will be rendered by our application (assuming we actually need it).</p><p>With Curi, the router creates a &quot;response&quot; object when it matches locations. Some of the properties of the response are automatically set based on the location and the matching route. Others can be set by a route. This is done using the<!-- --> <code class="language-javascript">response()</code> property, which is a function that returns an object whose properties will be added to the response. For this React application, we want a response&#x27;s <code class="language-javascript">body</code> property to be the React component associated with each route.</p><style data-emotion-css="12hcwfb-note">.css-12hcwfb-note{padding:10px 5px;margin:5px 0;background:#eeeeee;border:1px solid #c7c7c7;}.css-12hcwfb-note:not(pre) > code[class*="language-"]{background:#fff;}.aside .css-12hcwfb-note{background:#fff;}</style><div class="css-12hcwfb-note"><strong>Note:</strong> <!-- -->Only known properties will be merged onto the response.</div></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">import Home from &#x27;./pages/Home&#x27;;
import Inbox from &#x27;./pages/Inbox&#x27;;
import Mesage from &#x27;./pages/Message&#x27;;

const routes = [
  {
    name: &#x27;Home&#x27;,
    path: &#x27;&#x27;,
    response: () =&gt; {
      return {
        body: Home
      };
    }
  },
  {
    name: &#x27;Inbox&#x27;,
    path: &#x27;inbox&#x27;,
    response: () =&gt; {
      return {
        body: Inbox
      };
    },
    children: [
      {
        name: &#x27;Message&#x27;,
        path: &#x27;:message&#x27;,
        response: () =&gt; {
          return {
            body: Message
          };
        }
      }
    ]
  }
];</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>We are close to replicating our React Router routes, but we still need to implement the <code class="language-javascript">on___</code> methods for our <code class="language-javascript">:message</code> <!-- -->route. With Curi, routes can have functions that are called when they match the new loaction. These are <code class="language-javascript">on.initial()</code> and<!-- --> <code class="language-javascript">on.every()</code>. <code class="language-javascript">on.initial()</code> is useful for tasks that only need to be run once per route, like the code splitting mentioned above. <code class="language-javascript">on.every()</code> will be called every time that a route matches, so it is ideal for data loading.</p><p>With React Router, <code class="language-javascript">onEnter</code> is called when the route first matches, while <code class="language-javascript">onChange</code> is called when the same route matches a new location (e.g. with new path parameters).<!-- --> <code class="language-javascript">onEnter</code> and <code class="language-javascript">onChange</code> are nearly the same; the big difference between the two is that <code class="language-javascript">onChange</code> <!-- -->will receive the previous props, which could be used to determine which props changed. When converting these to Curi, we will use<!-- --> <code class="language-javascript">on.every()</code> for both.</p><p>There currently is no equivalent to <code class="language-javascript">onLeave</code> with Curi. This is mostly because I haven’t seen a compelling need for it. It certainly could be implemented, but so far I have not found a reason to use that. If you have something you need this functionality for, please open up an issue in the GitHub repo.</p><p>The<!-- --> <a href="/guides/routes/#match">routes guide</a> <!-- -->covers all of the route properties.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">const routes = [
  {
    name: &#x27;Home&#x27;,
    path: &#x27;&#x27;,
    response: () =&gt; {
      return {
        body: Home
      };
    }
  },
  {
    name: &#x27;Inbox&#x27;,
    path: &#x27;inbox&#x27;,
    response: () =&gt; {
      return {
        body: Inbox
      };
    },
    children: [
      {
        name: &#x27;Message&#x27;,
        path: &#x27;:message&#x27;,
        response: () =&gt; {
          return {
            body: Message
          };
        },
        on: {
          every: (route) =&gt; { return ... },
        }
      }
    ]
  }
];</code></pre></div></div></div><p>Once your routes have been defined, you can move on to creating your Curi router.</p></div><div class="css-1ten54b-section section" id="creating-the-router"><h2>Creating the router<a class="header-link" href="/guides/migrate-rrv3/#creating-the-router">#</a></h2><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>With React Router, you create your router by rendering a<!-- --> <code class="language-jsx">&lt;<!-- -->Router<!-- -->&gt;</code>. That either takes the <code class="language-jsx">&lt;<!-- -->Route<!-- -->&gt;</code> components as props or the route objects through its <code class="language-javascript">routes</code> prop. The <code class="language-jsx">&lt;<!-- -->Router<!-- -->&gt;</code> also takes a <code class="language-javascript">history</code> prop, which is either one of the pre-routerured objects (<code class="language-javascript">browserHistory</code> <!-- -->or <code class="language-javascript">hashHistory</code>) or one that you create yourself.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">import { Router, browserHistory } from &#x27;react-router&#x27;;
const routes = [...];
ReactDOM.render((
  &lt;Router history={browserHistory} routes={routes} /&gt;
), holder);</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>With Curi, the router is created prior to rendering. It takes a Hickory history object, your routes array, and possibly an options object. <a href="https://github.com/pshrmn/hickory">Hickory</a> is similar to the <code class="language-javascript">history</code> package used by React Router, but has a slight modified API (easier navigation blocking and navigation that imitates how anchors work) and more convenient location objects (you can use a <code class="language-javascript">query</code> object instead of having to manually create a <code class="language-javascript">search</code> string).</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">import curi from &#x27;@curi/core&#x27;;
import Browser from &#x27;@hickory/browser&#x27;;
const history = Browser();
const routes = [...];
const router = curi(history, routes);</code></pre></div></div></div><div class="css-1ten54b-section section" id="rendering"><h2>Rendering<a class="header-link" href="/guides/migrate-rrv3/#rendering">#</a></h2><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>We will walk through the rendering differences between React Router and Curi by looking at what happens in each when we navigate to the URI <code class="language-javascript">/inbox/test-message-please-ignore</code>.</p></div></div><div class="css-1ten54b-section subsection" id="rendering-react-router"><h3>React Router v2/3<a class="header-link" href="/guides/migrate-rrv3/#rendering-react-router">#</a></h3><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>React Router uses the <code class="language-jsx">&lt;<!-- -->Router<!-- -->&gt;</code> component to subscribe to location changes. Each time that the location changes, it walks over its routes and determines which route(s!) match.</p><p>React Router starts by rendering the root component. In the above router, that is the <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code>. Next, our <code class="language-javascript">inbox</code> <!-- -->route also matches, so React Router also renders our<!-- --> <code class="language-jsx">&lt;<!-- -->Inbox<!-- -->&gt;</code> component. Finally, the URI<!-- --> <code class="language-javascript">/inbox/test-message-please-ignore</code> also matches our <code class="language-javascript">:message</code> <!-- -->route (which is concatenated with its parents to form the path<!-- --> <code class="language-javascript">/inbox/:message</code>), so <code class="language-jsx">&lt;<!-- -->Message<!-- -->&gt;</code> is rendered as well. Each child component is rendered by its parent, so we end up with a component tree that looks something like this:</p><p>With this structure, any routes with children will be rendered when one of the children matches. That means that those routes need to know how to render based on what type of match they have. For example, <code class="language-jsx">&lt;<!-- -->Inbox<!-- -->&gt;</code> needs to know how to render for an exact match (the URI is <code class="language-javascript">/inbox</code>) and for a partial match (<code class="language-javascript">/inbox/test-message-please-ignore</code>). Also, if the<!-- --> <code class="language-jsx">&lt;<!-- -->Inbox<!-- -->&gt;</code> needs to pass any props to <code class="language-jsx">&lt;<!-- -->Message<!-- -->&gt;</code>, it has to use <code class="language-javascript">React.cloneElement</code>, which works but is not the cleanest looking code.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">&lt;App&gt;
  &lt;Inbox&gt;
    &lt;Message&gt;
  &lt;/Inbox&gt;
&lt;/App&gt;</code></pre></div></div></div><div class="css-1ten54b-section subsection" id="rendering-with-curi"><h3>Curi<a class="header-link" href="/guides/migrate-rrv3/#rendering-with-curi">#</a></h3><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>With Curi, we also need to re-render our application every time that the location changes. We will do this using the<!-- --> <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> component, which comes from the<!-- --> <code class="language-javascript">@curi/react</code> package.</p><p>The <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> takes a <code class="language-javascript">router</code> prop, which it will use know when a new responses are emitted.<!-- --> <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> also expects a function as its<!-- --> <code class="language-javascript">children</code> prop (a render-invoked prop). This function renders the application using the <code class="language-javascript">response</code>.</p><p>When the <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code>&#x27;s <code class="language-javascript">children()</code> function is called, it will receive an object with three properties:</p><ol><li><code class="language-javascript">response</code> is the new response object</li><li><code class="language-javascript">navigation</code> is an object with additional information about the navigation</li><li><code class="language-javascript">router</code> is your Curi router (mostly useful if the function is defined in a separate file)</li></ol><p>Above, we added <code class="language-javascript">response()</code> functions to each route. The functions set React components as the <code class="language-javascript">body</code> property of responses. We can now use <code class="language-javascript">response.body</code> to render those components.</p><p>In the React Router section, we had three components that were rendered: <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code>,<code class="language-jsx">&lt;<!-- -->Inbox<!-- -->&gt;</code>, and <code class="language-jsx">&lt;<!-- -->Message<!-- -->&gt;</code>. With Curi, only the most accurately matched route actually matches. That means that for the URL <code class="language-javascript">/inbox/test-message-please-ignore</code>, the<!-- --> <code class="language-javascript">&quot;Message&quot;</code> route will match, but its parent route,<!-- --> <code class="language-javascript">&quot;Inbox&quot;</code> will not, so <code class="language-javascript">response.body</code> will be the <code class="language-jsx">&lt;<!-- -->Message<!-- -->&gt;</code> component. Unlike React Router, we don’t render <code class="language-jsx">&lt;<!-- -->Inbox<!-- -->&gt;</code> because we did not match the<!-- --> <code class="language-javascript">inbox</code> route.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">ReactDOM.render((
  &lt;CuriProvider router={router}&gt;
    {({ response }) =&gt; {
      const { body:Body } = response;
      return &lt;Body /&gt;;
    }}
  &lt;/CuriProvider&gt;
), holder);

/*
  &lt;CuriProvider&gt;
    &lt;Message /&gt;
  &lt;/CuriProvider&gt;
*/</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><div class="css-12hcwfb-note"><strong>Note:</strong> <!-- -->Wildcard routes (<code class="language-javascript">{ path: &#x27;(.*)&#x27; }</code>) can be used to easily display a not found page for any location not matched by other routes.</div></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">const routes = [
  // ...,
  {
    name: &quot;Not Found&quot;,
    path: &quot;(.*)&quot;,
    response() {
      return { body: NotFound };
    }
  }
];</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>It was mentioned above that there is no need for the<!-- --> <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code> component with Curi. If you want to have an<!-- --> <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code> component, you can render it either inside of the<!-- --> <code class="language-javascript">render</code> function or as a parent of your<!-- --> <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code>. This can be useful for rendering content that is unrelated to specific routes, like a page header or menu.</p><p>Rendering the <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code> inside of the <code class="language-javascript">children</code> <!-- -->function is necessary if any of the components rendered by the<!-- --> <code class="language-jsx">&lt;<!-- -->App<!-- -->&gt;</code> are location aware components, since they need to access the Curi router (through React’s context, which the<!-- --> <code class="language-jsx">&lt;<!-- -->CuriProvider<!-- -->&gt;</code> provides)</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">function render({ response }) {
  const { body:Body } = response;
  return (
    &lt;App&gt;
      &lt;Body /&gt;
    &lt;/App&gt;
  );
}
// or
function render({ response }) {
  const { body:Body } = response;
  return (
    &lt;div&gt;
      &lt;Header /&gt;
      &lt;Body /&gt;
      &lt;Footer /&gt;
    &lt;/div&gt;
  );
}</code></pre></div></div><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>What about props that you want to send to your route components? Pass them to the <code class="language-jsx">&lt;<!-- -->Body<!-- -->&gt;</code> component that you render. Props can be passed individually, but passing the whole<!-- --> <code class="language-javascript">response</code> object is recommended.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">function render({ response }) {
  const { body:Body } = response;
  return &lt;Body response={response} /&gt;;
}</code></pre></div></div></div></div><div class="css-1ten54b-section section" id="links"><h2>Links<a class="header-link" href="/guides/migrate-rrv3/#links">#</a></h2><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>You will want to be able to navigate between routes in your application. React Router provides a <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> component to do this, and so does Curi (through the <code class="language-javascript">@curi/react</code> package). There are a few differences to note between these two components:</p></div></div><ul><li><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>React Router expects you to generate the pathname yourself, while Curi expects you to pass the name of the route that you want to navigate to. Any path parameters are passed to Curi’s<!-- --> <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> using the <code class="language-javascript">params</code> prop.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">// React Router
&lt;Link to=&#x27;/&#x27;&gt;Home&lt;/Link&gt;
&lt;Link to={`/inbox/${message}`}&gt;Hello&lt;/Link&gt;

// Curi
&lt;Link to=&#x27;Home&#x27;&gt;Home&lt;/Link&gt;
&lt;Link to=&#x27;Message&#x27; params={{ message }}&gt;Hello&lt;/Link&gt;</code></pre></div></div></li><li><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>With React Router, any additional location properties are passed to the <code class="language-jsx">&lt;<!-- -->Link<!-- -->&gt;</code> using the <code class="language-javascript">to</code> object. With Curi, these properties are passed using the prop name (<code class="language-javascript">hash</code>, <code class="language-javascript">query</code> &amp;<code class="language-javascript">state</code>).</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">// React Router
&lt;Link to={{ pathname: &#x27;/inbox&#x27;, hash: &#x27;#test&#x27; }}&gt;
  Inbox
&lt;/Link&gt;

// Curi
&lt;Link to=&#x27;Inbox&#x27; hash=&#x27;test&#x27;&gt;Inbox&lt;/Link&gt;</code></pre></div></div></li><li><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>Active detection with Curi uses an <code class="language-jsx">&lt;<!-- -->Active<!-- -->&gt;</code> component.<!-- --> <code class="language-jsx">&lt;<!-- -->Active<!-- -->&gt;</code>&#x27;s <code class="language-javascript">children</code> prop is a render-invoked function that receives a boolean <code class="language-javascript">true</code> when the named route is active and <code class="language-javascript">false</code> when it is not. You can also pass <code class="language-javascript">partial={true}</code> to let partial matches (ancestor routes) be considered active (the opposite of React Router&#x27;s <code class="language-javascript">onlyActiveOnIndex</code>).</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-jsx">// React Router
&lt;Link
  to=&#x27;/&#x27;
  onlyActiveOnIndex
  activeClassName=&#x27;active&#x27;
&gt;
  Home
&lt;/Link&gt;

// Curi
// You need to add @curi/route-active
// to your router object
import active from &#x27;@curi/route-active&#x27;;
const router = curi(history, routes, {
  route: [active()]
});

// The &lt;Active&gt; component determines if a route is active
// and passes true/false to the render-invoked children
// prop
&lt;Active name=&quot;Home&quot;&gt;
  {active =&gt; (
    &lt;Link
      to=&#x27;Home&#x27;
      className={active ? &quot;active&quot; : &quot;&quot;}
    &gt;Home&lt;/Link&gt;
  )}
&lt;/Active&gt;</code></pre></div></div></li></ul></div><div class="css-1ten54b-section section" id="router-props"><h2>Accessing router props from nested components<a class="header-link" href="/guides/migrate-rrv3/#router-props">#</a></h2><div class="css-1kutd5m-sidebySide"><div class="css-18ghg7h-explanation"><p>React Router provides a <code class="language-javascript">withRouter</code> higher-order component that will inject router props into the wrapped component.</p><p>Curi provides similar functionality with the <code class="language-javascript">Curious</code> <!-- -->component.</p><p><code class="language-javascript">Curious</code> has a render-invoked <code class="language-javascript">children</code> prop, which you can use to inject the Curi <code class="language-javascript">router</code>, the current<!-- --> <code class="language-javascript">response</code>, and the current <code class="language-javascript">navigation</code> object into components.</p></div><div class="css-18z6812-codeBlock"><pre><code class="language-javascript">// React Router
export default withRouter(SomeComponent);

// Curi
export default () =&gt; (
  &lt;Curious&gt;
    {({ response }) =&gt; (
      &lt;SomeComponent response={response} /&gt;
    )}
  &lt;/Curious&gt;
);</code></pre></div></div></div><p>At this point, hopefully you are comfortable with migrating from React Router v2/3 to Curi. If there are any concepts not covered here that you think should be, please feel free to open up an issue<!-- --> <a href="https://github.com/pshrmn/curi/issues">on GitHub</a>.</p></div><style data-emotion-css="36dilg-pageLinks">.css-36dilg-pageLinks ul{margin:3px 0;padding-left:0px;list-style:none;}.css-36dilg-pageLinks li{margin:3px 0;}.css-36dilg-pageLinks a{-webkit-text-decoration:none;text-decoration:none;}.css-36dilg-pageLinks h3{border-bottom:1px solid #666;}.css-36dilg-pageLinks .active{font-weight:bold;}.css-36dilg-pageLinks .link-group{margin-bottom:15px;}.css-36dilg-pageLinks .link-list li.with{margin:10px 0;}.css-36dilg-pageLinks .link-list p{margin:0;}.css-36dilg-pageLinks button.toggler{position:fixed;right:5px;bottom:5px;width:75px;height:75px;border-radius:40px;border:0;background:#ff9800;font-size:1em;z-index:1;}.css-36dilg-pageLinks .children{display:none;background:#efefef;padding:10px;}.css-36dilg-pageLinks .children.visible{display:block;position:fixed;top:0;bottom:0;left:0;right:0;overflow-y:scroll;}@media only screen and (min-width:641px){.css-36dilg-pageLinks{position:relative;width:200px;min-width:200px;margin-right:15px;-webkit-order:1;-ms-flex-order:1;order:1;}.css-36dilg-pageLinks h3{font-size:1.1em;}.css-36dilg-pageLinks button.toggler{display:none;}.css-36dilg-pageLinks .children{display:block;background:transparent;}}</style><div class="css-36dilg-pageLinks"><button type="button" class="toggler">Menu</button><div class="children"><h2>Guides</h2><ul><li class="link-group"><h3>basic</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/installation/">Installation</a></li><li class="solo"><a class=" " href="/guides/getting-started/">Getting Started</a></li><li class="solo"><a class=" " href="/guides/sync-or-async/">Sync or Async</a></li><li class="solo"><a class=" " href="/guides/routes/">Routes</a></li><li class="solo"><a class=" " href="/guides/responses/">Responses</a></li><li class="solo"><a class=" " href="/guides/observers/">Observers</a></li><li class="solo"><a class=" " href="/guides/navigation-objects/">Navigation Objects</a></li></ul></li><li class="link-group"><h3>advanced</h3><ul class="link-list"><li class="solo"><a class=" " href="/guides/route-interactions/">Route Interactions</a></li><li class="solo"><a class=" " href="/guides/side-effects/">Side Effects</a></li><li class="solo"><a class=" " href="/guides/code-splitting/">Code Splitting</a></li><li class="solo"><a class=" " href="/guides/loading/">Loading Route Data</a></li><li class="solo"><a class=" " href="/guides/react-native/">React Native Tips</a></li><li class="solo"><a class=" " href="/guides/apollo/">Apollo Integration</a></li></ul></li><li class="link-group"><h3>migration</h3><ul class="link-list"><li class="solo"><a class=" active" href="/guides/migrate-rrv3/">React Router v2/3</a></li><li class="solo"><a class=" " href="/guides/migrate-rrv4/">React Router v4</a></li></ul></li></ul></div></div></div></main></div>
    <script src="https://unpkg.com/react@16.3.2/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.3.2/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
