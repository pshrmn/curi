<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@curi/router | Curi Documentation</title>
    <link href="https://fonts.googleapis.com/css?family=Zilla+Slab:300,400" rel="stylesheet">
    <link href="/static/css/prism.css" rel="stylesheet">
  </head>
  <body>
    <div id="root"><style data-emotion-css="bg7vvq">body{font-family:"Zilla Slab",serif;font-weight:300;font-size:24px;line-height:36px;margin:0;box-sizing:border-box;}@media only screen and (min-width:751px){body{font-size:20px;}}@media only screen and (min-width:){body{font-size:20px;}}*,*:before,*:after{box-sizing:inherit;}h1,h2,h3,h4,h5,h6{font-weight:normal;margin:5px 0;}p{margin:5px 0;}h1{font-size:1.75em;}h2{font-size:1.5em;}h3{font-size:1.25em;}h4{font-size:1.2em;}h5{font-size:1.1em;}h6{font-size:1em;}table,th,td{border:1px solid #c7c7c7;border-collapse:collapse;}table{margin-bottom:10px;}th{text-align:left;}th,td{padding:10px;}pre[class*="language-"]{margin:0;background:#222233;}:not(pre) > code[class*="language-"]{white-space:nowrap;}</style><style data-emotion-css="1xrs380">.css-1xrs380{display:none;}@media only screen and (min-width:751px){.css-1xrs380{display:block;width:100vw;background:#222233;padding:0;position:fixed;z-index:1;}.css-1xrs380 .home-link{font-size:1.5em;color:#ff9800;}}</style><header class="css-1xrs380 e17onxz0"><style data-emotion-css="1exs64t">.css-1exs64t{width:751px;margin:0 auto;color:#efefef;}.css-1exs64t ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;list-style:none;padding:0;margin:0;max-width:100%;}.css-1exs64t li{margin-right:20px;padding:0;}.css-1exs64t a{color:#efefef;font-size:1.1em;-webkit-text-decoration:none;text-decoration:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:50px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:3px solid #222233;padding:0 5px;}.css-1exs64t a:hover{color:#ff9800;}.css-1exs64t a.active{color:#ff9800;border-bottom-color:#ff9800;}.css-1exs64t a.activated{color:#2196f3;border-bottom-color:#2196f3;}</style><nav class="css-1exs64t e17onxz1"><ul><li><a class="home-link " href="/">Curi</a></li><li><a data-hide="false" class=" active" href="/packages/">API</a></li><li><a data-hide="false" class=" " href="/guides/">Guides</a></li><li><a data-hide="false" class=" " href="/tutorial/">Tutorials</a></li><li><a data-hide="false" class=" " href="/examples/">Examples</a></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav><style data-emotion-css="1dskmbx">@media only screen and (min-width:751px){.css-1dskmbx{background:#deeffe;border-bottom:2px solid #222233;}.css-1dskmbx > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:space-around;-webkit-justify-content:space-around;-ms-flex-pack:space-around;justify-content:space-around;width:751px;margin:0 auto;}.css-1dskmbx a{color:#222233;-webkit-text-decoration:none;text-decoration:none;}.css-1dskmbx ul{list-style:none;margin:0;padding:0;}}</style><div style="border-bottom-width:0px" class="css-1dskmbx e17onxz2"></div></header><style data-emotion-css="17yb0j4">.css-17yb0j4{position:fixed;right:15px;bottom:15px;width:75px;height:75px;border-radius:40px;border:0;background:#64b5f6;font-size:1em;font-family:"Zilla Slab",serif;z-index:9999;}@media only screen and (min-width:751px){.css-17yb0j4{display:none;}}</style><button type="button" class="toggler css-17yb0j4 egebhwa1">Menu</button><style data-emotion-css="b9kg8f">.css-b9kg8f{display:none;position:fixed;overflow-y:scroll;width:100vw;height:100vh;background:#efefef;z-index:999;padding:15px;}.css-b9kg8f.visible{display:block;}.css-b9kg8f ul{margin:3px 0;padding-left:0px;list-style:none;}.css-b9kg8f li{margin:3px 0;}.css-b9kg8f a{-webkit-text-decoration:none;text-decoration:none;display:inline-block;color:#222233;}.css-b9kg8f h3{border-bottom:1px solid #333;}.css-b9kg8f .active{font-weight:bold;}.css-b9kg8f .children{display:none;background:#efefef;padding:10px;}.css-b9kg8f .children.visible{display:block;position:fixed;top:0;bottom:0;left:0;right:0;overflow-y:scroll;}@media only screen and (min-width:751px){.css-b9kg8f{display:none;}.css-b9kg8f.visible{display:none;}}</style><div hidden="" class=" css-b9kg8f egebhwa0"><nav><ul><li><a class="home-link " href="/">Curi</a></li><li><style data-emotion-css="eh8tip">.css-eh8tip a{color:#222233;}.css-eh8tip ul{margin-left:10px;}.css-eh8tip > li{margin-bottom:15px;}</style><ul class="css-eh8tip e11f272a0"><li><div><style data-emotion-css="12lsm47">.css-12lsm47{cursor:pointer;font-size:24px;font-family:"Zilla Slab",serif;text-align:left;width:100%;background:none;border:0;padding:0;color:#222233;}</style><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>API</button></div></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><div><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Guides</button></div></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><div><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Tutorials</button></div></li></ul></li><li><ul class="css-eh8tip e11f272a0"><li><div><button title="Toggle group visibility" class="css-12lsm47 e11f272a1"><svg width="25" height="15" viewBox="0 0 25 15" xmlns="http://www.w3.org/2000/svg"><path d="M2,5 l5,5 l5,-5" fill="none" stroke="black" stroke-width="3"></path></svg>Examples</button></div></li></ul></li><li><a href="https://github.com/pshrmn/curi">GitHub</a></li></ul></nav></div><style data-emotion-css="wdkxre">.css-wdkxre{width:100vw;padding:10px 10px 0;margin-bottom:20px;}.css-wdkxre a{color:#222233;}@media only screen and (min-width:751px){.css-wdkxre{padding:50px 25px 0;width:751px;margin:0 auto;}}</style><main tabindex="-1" style="outline:none" class="css-wdkxre e1fl12nk0"><style data-emotion-css="1ifjy1">.css-1ifjy1{position:relative;}@media only screen and (min-width:751px){.css-1ifjy1{padding-top:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;}}</style><div class="css-1ifjy1 e37tu9n0"><style data-emotion-css="3seevh">@media only screen and (min-width:751px){.css-3seevh{-webkit-order:2;-ms-flex-order:2;order:2;-webkit-flex:0 1 800px;-ms-flex:0 1 800px;flex:0 1 800px;position:relative;padding:0;overflow:hidden;outline:none;}}</style><div class="css-3seevh e826bmj0"><h1>@curi/<!-- -->router</h1><style data-emotion-css="1tgs534">.css-1tgs534{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}.css-1tgs534 > *{margin-right:5px;margin-bottom:5px;}</style><div class="css-1tgs534 e1yyl7510"><div>v<!-- -->1.1.0</div><a href="https://github.com/pshrmn/curi/tree/master/packages/router"><img style="height:16px;margin-right:5px" src="/static/img/github-logo.png" alt="GitHub logo"/>GitHub Repo</a><a href="https://npmjs.com/package/@curi/router"><img style="height:16px;margin-right:5px" src="/static/img/npm-logo.png" alt="NPM logo"/>NPM Package</a></div><style data-emotion-css="2fdgsn">.css-2fdgsn{margin-top:15px;}.css-2fdgsn .aside{padding:5px 10px;border-left:2px solid $border-green;background:#e8f5e9;margin-top:15px;}.css-2fdgsn .aside .inline-code{background:#81c784 !important;}.css-2fdgsn .header-link{-webkit-text-decoration:none;text-decoration:none;}.css-2fdgsn .header-link::after{content:"#";color:#333;margin-left:5px;display:none;}.css-2fdgsn .header-link:hover::after{display:inline-block;}@media only screen and (min-width:751px){.css-2fdgsn{max-width:800px;}.css-2fdgsn .displaced-header:before{content:"";display:block;margin-top:-50px;height:50px;visibility:hidden;}}</style><div class="section css-2fdgsn" id="installation"><h2 class="displaced-header"><a class="header-link" href="#installation">Installation</a></h2><style data-emotion-css="cv69qk">.css-cv69qk{width:100%;}.css-cv69qk p{margin:0 0 25px;font-size:0.8em;}@media only screen and (min-width:751px){.css-cv69qk p{font-size:1em;}}</style><div class="css-cv69qk e12etsbl1"><p>The package can be installed through <style data-emotion-css="14f7g1f">.css-14f7g1f{padding:0.1em;border-radius:0.3em;white-space:normal;background:#fff !important;color:#222233 !important;text-shadow:none;white-space:wrap;}.css-14f7g1f .token{color:#222233;}</style><code class="inline-code language-javascript css-14f7g1f eutm4hs0">npm</code> (you need to have Node &amp; NPM installed).</p></div><style data-emotion-css="pr87ee">.css-pr87ee{width:100%;margin:0 0 25px;font-size:0.8em;}.css-pr87ee pre{white-space:pre-wrap;height:100%;vertical-align:top;}@media only screen and (min-width:751px){.css-pr87ee{font-size:1em;}.css-pr87ee code{min-width:200px;}}</style><div class="css-pr87ee e12etsbl0"><pre><code class="language-bash">npm install @curi/router</code></pre></div><div class="css-cv69qk e12etsbl1"><p>Prefer inline scripts? A full (<code class="inline-code language-javascript css-14f7g1f eutm4hs0">.umd.js</code>) and minified (<code class="inline-code language-javascript css-14f7g1f eutm4hs0">.min.js</code>) script is available for every version through<!-- --> <a href="https://unpkg.com/@curi/router@1.1.0/dist/">Unpkg</a>. You can access the package&#x27;s exports through<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">window.<!-- -->Curi</code>.</p></div></div><div class="section css-2fdgsn" id="about"><h2 class="displaced-header"><a class="header-link" href="#about">About</a></h2><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">@curi/router</code> package is used to create a router.</p></div></div><style data-emotion-css="st3ft1">.css-st3ft1 .section{padding-left:10px;margin-bottom:5px;}</style><style data-emotion-css="1of95cb">.css-1of95cb{margin-top:15px;}.css-1of95cb .aside{padding:5px 10px;border-left:2px solid $border-green;background:#e8f5e9;margin-top:15px;}.css-1of95cb .aside .inline-code{background:#81c784 !important;}.css-1of95cb .header-link{-webkit-text-decoration:none;text-decoration:none;}.css-1of95cb .header-link::after{content:"#";color:#333;margin-left:5px;display:none;}.css-1of95cb .header-link:hover::after{display:inline-block;}@media only screen and (min-width:751px){.css-1of95cb{max-width:800px;}.css-1of95cb .displaced-header:before{content:"";display:block;margin-top:-50px;height:50px;visibility:hidden;}}.css-1of95cb .section{padding-left:10px;margin-bottom:5px;}</style><div class="eva37ac0 css-1of95cb" id="API"><h2 class="displaced-header"><a class="header-link" href="#API">API</a></h2><div class="section css-2fdgsn" id="curi"><h2 class="displaced-header"><a class="header-link" href="#curi">curi</a></h2><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">curi</code> export is a function to create a router. It has two required arguments: a <code class="inline-code language-javascript css-14f7g1f eutm4hs0">history</code> object and a<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">routes</code> array, and an optional third argument: an<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">options</code> object.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">import { curi } from &#x27;@curi/router&#x27;;

const router = curi(history, routes, options);</code></pre></div><div class="section css-2fdgsn" id="arguments"><h4 class="displaced-header"><a class="header-link" href="#arguments">Arguments</a></h4><div class="section css-2fdgsn" id="history"><h5 class="displaced-header"><a class="header-link" href="#history">history</a></h5><div class="css-cv69qk e12etsbl1"><p>A <a href="https://github.com/pshrmn/hickory">Hickory</a> <!-- -->history object that will power navigation within the application. The<!-- --> <a href="/guides/getting-started/#history-object">getting started guide</a> <!-- -->provides more information on how to choose which history type is right for an application.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-jsx">import Browser from &quot;@hickory/browser&quot;;

const history = Browser();
const router = curi(history, routes);</code></pre></div></div><div class="section css-2fdgsn" id="routes"><h5 class="displaced-header"><a class="header-link" href="#routes">routes</a></h5><div class="css-cv69qk e12etsbl1"><p>An array of prepared<!-- --> <a href="/guides/routes/">route</a> <!-- -->objects describing all valid routes in the application.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-jsx">const routes = prepareRoutes([
  { name: &quot;Home&quot;, path: &quot;&quot; },
  { name: &quot;About&quot;, path: &quot;about&quot; }
]);

const router = curi(history, routes);</code></pre></div></div><div class="section css-2fdgsn" id="options"><h5 class="displaced-header"><a class="header-link" href="#options">options</a></h5><p>An optional object with additional properties that can be passed to the router.</p><ul><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">route</code> - An array of<!-- --> <a href="/guides/route-interactions/">route interactions</a>. These are functions for interacting with routes based on their <code class="inline-code language-javascript css-14f7g1f eutm4hs0">name</code>.</p><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathname</code> interaction is included by default; any other interactions are provided through this array.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">import active from &quot;@curi/route-active&quot;;
import ancestors from &quot;@curi/route-ancestors&quot;;

const routes = prepareRoutes([{ name: &quot;Home&quot;, path: &quot;&quot; }]);

const router = curi(history, routes, {
  route: [active(), ancestors()]
});</code></pre></div><div class="css-cv69qk e12etsbl1"><p>Route interactions are called via the router&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">route</code> object.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">router.route.active(&quot;Home&quot;);
// returns true when location.pathname = &quot;/&quot;

router.route.pathname(&quot;Home&quot;);
// returns &quot;/&quot;</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">sideEffects</code> - An array of<!-- --> <a href="/guides/side-effects/">side effect</a> <!-- -->objects.</p><style data-emotion-css="13ad1he">.css-13ad1he{overflow-x:scroll;}</style><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td>effect</td><td>An observer that will be called whenever a response is generated.</td></tr><tr><td>after</td><td>(default <code class="inline-code language-javascript css-14f7g1f eutm4hs0">false</code>) controls whether the side effect is called before or after non-side effect observers.</td></tr></tbody></table></div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">import scroll from &quot;@curi/side-effect-scroll&quot;;

const router = curi(history, routes, {
  sideEffects: [scroll()]
});</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">external</code> - Values that should be accessible to a route&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions and<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">response()</code> function.</p><p>Using <code class="inline-code language-javascript css-14f7g1f eutm4hs0">external</code> allows you to access APIs, data, etc. without having to be able to import it in the module where the routes are defined.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const client = new ApolloClient();
const router = curi(history, routes, {
  external: { client, greeting: &quot;Hi!&quot; }
});</code></pre></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &quot;User&quot;,
    path: &quot;user/:id&quot;,
    resolve: {
      data(match, external) {
        // use the external object to make a query
        return external.client.query()
      }
    }
  }
]);</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">emitRedirects</code> - When <code class="inline-code language-javascript css-14f7g1f eutm4hs0">false</code> <!-- -->(default is <code class="inline-code language-javascript css-14f7g1f eutm4hs0">true</code>), response objects with the<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">redirectTo</code> property<!-- --> <strong>will not be emitted</strong> to observers. This can be useful for avoiding an extra render, but should not be used on the server.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &quot;Old&quot;,
    path: &quot;old/:id&quot;,
    response({ params }) {
      // setup a redirect to the &quot;New&quot; route
      return {
        redirectTo: {
          name: &quot;New&quot;,
          params
        }
      };
    }
  },
  {
    name: &quot;New&quot;,
    path: &quot;new/:id&quot;
  }
]);

const router = curi(history, routes, {
  emitRedirects: false                 
});
// navigating to &quot;/old/2&quot; will automatically redirect
// to &quot;/new/2&quot; without emitting a response</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">automaticRedirects</code> - When the initially matched route is synchronous and redirects, the router&#x27;s automatic redirect will occur before any response handlers (registered with <code class="inline-code language-javascript css-14f7g1f eutm4hs0">once()</code> or<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">observe()</code>) are called. This means that they will be called with the response for the location that was redirected to instead of the initial location. This is fine on the client side, but causes issues with server side rendering. When<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">automaticRedirects</code> is <code class="inline-code language-javascript css-14f7g1f eutm4hs0">false</code>, the automatic redirect will not happen.<!-- --> <strong>Using <code class="inline-code language-javascript css-14f7g1f eutm4hs0">automaticRedirects = false</code> is recommend for server side rendering.</strong></p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &quot;Old&quot;,
    path: &quot;old/:id&quot;,
    response({ params }) {
      // setup a redirect to the &quot;New&quot; route
      return {
        redirectTo: {
          name: &quot;New&quot;,
          params
        }
      };
    }
  },
  {
    name: &quot;New&quot;,
    path: &quot;new/:id&quot;
  }
]);
const history = InMemory({ locations: [&quot;old/1&quot; ]});
const router = curi(history, routes, {
  automaticRedirects: false                 
});
router.once(({ response }) =&gt; {
  // response = { name: &quot;Old&quot;, ... }
});</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathnameOptions</code> - Curi uses<!-- --> <a href="https://github.com/pillarjs/path-to-regexp"><code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code></a> <!-- -->to handle route matching and pathname generation.<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code> can take a custom<!-- --> <a href="https://github.com/pillarjs/path-to-regexp#compile-reverse-path-to-regexp"><code class="inline-code language-javascript css-14f7g1f eutm4hs0">encode</code></a> <!-- -->function for creating pathnames, which you can specify with this options.<!-- --> <strong>You most likely will never need to use this.</strong></p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const router = curi(history, routes, {
  pathOptions: {
    encode: (value, token) =&gt; { /* ... */ }
  }
});</code></pre></div></li></ul></div></div><div class="section css-2fdgsn" id="properties"><h4 class="displaced-header"><a class="header-link" href="#properties">Router Properties</a></h4><p>The router has a number of properties for you to use when rendering your application.</p><div class="section css-2fdgsn" id="navigate"><h5 class="displaced-header"><a class="header-link" href="#navigate">navigate(details)</a></h5><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">navigate()</code> method is used to navigate programmatically. It takes a <code class="inline-code language-javascript css-14f7g1f eutm4hs0">details</code> object with the details of where you want to navigate to as well as the<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">method</code> of navigation.</p><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td>name</td><td>The name of the route to navigate to</td></tr><tr><td>params</td><td>An object of any route params for the named route (and any of its ancestors that require params).</td></tr><tr><td>hash</td><td>The hash string of the location to navigate to.</td></tr><tr><td>query</td><td>The query value of the location to navigate to.</td></tr><tr><td>state</td><td>Any serializable state to attach to the location.</td></tr><tr><td>method</td><td>How to navigate. <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&quot;PUSH&quot;</code> appends the new location after the current one. <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&quot;REPLACE&quot;</code> <!-- -->replaces the current location. <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&quot;ANCHOR&quot;</code> is the default method and acts like clicking a link. This behavior is a mix of <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&quot;PUSH&quot;</code> and<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&quot;REPLACE&quot;</code> where the current location is replaced if the new location has the exact same URL.</td></tr><tr><td>finished</td><td>A function to call once the navigation has finished.</td></tr><tr><td>cancelled</td><td>A function to call if the navigation is superseded by another navigation.</td></tr></tbody></table></div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &quot;Album&quot;,
    path: &quot;photos/:albumID&quot;,
    children: [
      { name: &quot;Photo&quot;, path: &quot;:photoID&quot; }
    ]
  },
  // ...
]);
const router = curi(history, routes);

router.navigate({
  name: &quot;Photo&quot;,
  params: { albumID: 123, photoID: 456 }
});
// navigates to &quot;/photos/123/456&quot;
// using default &quot;ANCHOR&quot; method</code></pre></div></div><div class="section css-2fdgsn" id="once"><h5 class="displaced-header"><a class="header-link" href="#once">once(fn, options)</a></h5><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">once()</code> method takes a response handler function. If a response already exists, the function will be called immediately. Otherwise, the function will be called once a new response is created. The<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">{ initial: false }</code> option can be used to prevent an immediate call even if a response already exists.</p><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td>response</td><td>The generated response object.</td></tr><tr><td>navigation</td><td>The navigation&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">action</code> (<code class="inline-code language-javascript css-14f7g1f eutm4hs0">PUSH</code>,<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">REPLACE</code>, or <code class="inline-code language-javascript css-14f7g1f eutm4hs0">POP</code>) and the<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">previous</code> response object.</td></tr><tr><td>router</td><td>The Curi router</td></tr></tbody></table></div><p>When a matched route is async (it has <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> <!-- -->functions), a response will not be created until the async function(s) have resolved.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">router.once(({ response }) =&gt; {
  // render the application based on the response
});</code></pre></div><div class="section css-2fdgsn" id="once-options"><h6 class="displaced-header"><a class="header-link" href="#once-options">options</a></h6><div class="css-cv69qk e12etsbl1"><div style="overflow-x:scroll"><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>option</th><th>default</th><th>description</th></tr></thead><tbody><tr><td>initial</td><td>true</td><td>When true, the function will be called immediately if a response exists. When false, the response function will not be called until the next response is emitted.</td></tr></tbody></table></div></div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">router.once(responseHandler, {
  initial: false
});</code></pre></div></div></div><div class="section css-2fdgsn" id="observe"><h5 class="displaced-header"><a class="header-link" href="#observe">observe(fn, options)</a></h5><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">observe()</code> method takes a response handler function. The response handler will be called every time a new response is emitted (and it a response already exists, the function will be called immediately). The<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">{ initial: false }</code> option can be used to prevent an immediate call even if a response already exists.</p><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td>response</td><td>The generated response object.</td></tr><tr><td>navigation</td><td>The navigation&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">action</code> (<code class="inline-code language-javascript css-14f7g1f eutm4hs0">PUSH</code>,<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">REPLACE</code>, or <code class="inline-code language-javascript css-14f7g1f eutm4hs0">POP</code>) and the<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">previous</code> response object.</td></tr><tr><td>router</td><td>The Curi router</td></tr></tbody></table></div><p>When a matched route is async (it has <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> <!-- -->functions), a response will not be created until the async function(s) have resolved.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">router.observe(({ response }) =&gt; {
  // render the application based on the response
});</code></pre></div><div class="section css-2fdgsn" id="observe-options"><h6 class="displaced-header"><a class="header-link" href="#observe-options">options</a></h6><div class="css-cv69qk e12etsbl1"><div style="overflow-x:scroll"><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>option</th><th>default</th><th>description</th></tr></thead><tbody><tr><td>initial</td><td>true</td><td>When true, the function will be called immediately if a response exists. When false, the response function will not be called until the next response is emitted.</td></tr></tbody></table></div></div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">router.observe(responseHandler, {
  initial: false
});</code></pre></div><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">observe()</code> returns a function to stop calling the response handler function for new responses.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const stopObserving = router.observe(
  () =&gt; {...}
);
// the router will now call the observer for all responses

stopObserving();
// the router no longer calls the observer</code></pre></div></div></div><div class="section css-2fdgsn" id="cancel-property"><h5 class="displaced-header"><a class="header-link" href="#cancel-property">cancel(fn)</a></h5><div class="css-cv69qk e12etsbl1"><p>With asynchronous routes, after a user begins navigation, but before the route&#x27;s asynchronous actions have finished, the user does not have a good way to cancel the navigation. They can either refresh the page (causing a full reload) or click a link with the same URL as the current location, but neither of these are intuitive or ideal.</p><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">cancel()</code> takes an observer function that will be called when navigation starts and when the navigation is finished. When the navigation starts, the observer function will be given a function to cancel the navigation. When the navigation finishes, the function will be called with<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">undefined</code>.</p><p>Calling <code class="inline-code language-javascript css-14f7g1f eutm4hs0">cancel()</code> returns a function to stop observing.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const stopCancelling = router.cancel(fn =&gt; {
  if (fn === undefined) {
    // the navigation has finished/been cancelled
  } else {
    // calling fn will cancel the navigation
  }
});</code></pre></div></div><div class="section css-2fdgsn" id="current-property"><h5 class="displaced-header"><a class="header-link" href="#current-property">current()</a></h5><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">router.current()</code> method returns the current<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">response</code> and <code class="inline-code language-javascript css-14f7g1f eutm4hs0">navigation</code> objects.</p><style data-emotion-css="mezw60">.css-mezw60{padding:10px 5px;margin:5px 0;background:#eeeeee;border:1px solid #c7c7c7;}.aside .css-mezw60{background:#fff;}.css-mezw60 .inline-code{background:#fff !important;}</style><div class="css-mezw60 e1bjkffy0"><strong>Note:</strong> <!-- -->If you call <code class="inline-code language-javascript css-14f7g1f eutm4hs0">router.current()</code> before the initial response has been emitted, the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">response</code> and<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">navigation</code> properties will be <code class="inline-code language-javascript css-14f7g1f eutm4hs0">null</code>.</div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const router = curi(history, routes);
const tooSoon = router.current();
// tooSoon.response === null
// tooSoon.navigation === null

router.once(({ response, navigation }) =&gt; {
  const perfect = router.current();
  // perfect.response === response
  // perfect.navigation === navigation
});</code></pre></div></div><div class="section css-2fdgsn" id="router-route"><h5 class="displaced-header"><a class="header-link" href="#router-route">route</a></h5><div class="css-cv69qk e12etsbl1"><p>The router&#x27;s<!-- --> <a href="/guides/route-interactions/">route interactions</a> <!-- -->are accessed through the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">route</code> property. These are used to interact with routes using their names.</p></div><div class="section css-2fdgsn" id="pathname-interaction"><h6 class="displaced-header"><a class="header-link" href="#pathname-interaction">pathname</a></h6><div class="css-cv69qk e12etsbl1"><p>Curi includes one built-in interaction,<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathname</code>, which generates location pathnames using the name of a route and an optional object containing any necessary params.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  { name: &#x27;User&#x27;, path: &#x27;user/:id&#x27; }
]);
const router = curi(history, routes);
const userPathname = router.route.pathname(
  &#x27;User&#x27;,
  { id: &#x27;12345&#x27; }
);
// userPathname === &#x27;/user/12345&#x27;</code></pre></div></div></div><div class="section css-2fdgsn" id="refresh-property"><h5 class="displaced-header"><a class="header-link" href="#refresh-property">refresh()</a></h5><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">refresh()</code> function takes an array of new routes, which will replace the existing routes. The router will emit a new response based on the current location.</p><p>The function can be called without any arguments and it will emit a response using the existing routes.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const oldRoutes = prepareRoutes([...]);
const newRoutes = prepareRoutes([...]);

const router = curi(history, oldRoutes);
// generates responses using old routes

router.refresh(newRoutes);
// generates responses using new routes</code></pre></div></div><div class="section css-2fdgsn" id="history-property"><h5 class="displaced-header"><a class="header-link" href="#history-property">history</a></h5><div class="css-cv69qk e12etsbl1"><p>The route&#x27;s history object, in case you need to interact directly with that.</p></div></div></div></div><div class="section css-2fdgsn" id="prepareRoutes"><h2 class="displaced-header"><a class="header-link" href="#prepareRoutes">prepareRoutes</a></h2><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">prepareRoutes()</code> export is used to build the routes for Curi. This will pre-compile paths for location matching and pathname building, which is particularly useful for server rendering.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">import { prepareRoutes } from &#x27;@curi/router&#x27;;

const routes = prepareRoutes([
  { name: &quot;Home&quot;, path: &quot;&quot; },
  // ...
  { name: &quot;Not Found&quot;, path: &quot;(.*)&quot; }
]);</code></pre></div><div class="css-cv69qk e12etsbl1"><style data-emotion-css="1p6f91g">.css-1p6f91g{padding:10px 5px;margin:5px 0;background:#ffe8bf;border:1px solid #ff9800;}.css-1p6f91g .inline-code{background:#ffb74d !important;}</style><div class="css-1p6f91g e1bjkffy1"><strong>Warning:</strong> <!-- -->Passing a non-prepared routes array to <code class="inline-code language-javascript css-14f7g1f eutm4hs0">curi()</code> is still supported, but deprecated and will be removed in the next major version.</div></div></div><div class="section css-2fdgsn" id="route-properties"><h2 class="displaced-header"><a class="header-link" href="#route-properties">Route properties</a></h2><div class="section css-2fdgsn" id="name"><h3 class="displaced-header"><a class="header-link" href="#name">route.name</a></h3><div class="css-cv69qk e12etsbl1"><p>A string, this must be unique for every route.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">[
  { name: &#x27;Home&#x27; },
  { name: &#x27;Album&#x27; },
  { name: &#x27;Not Found&#x27; }
];</code></pre></div></div><div class="section css-2fdgsn" id="path"><h3 class="displaced-header"><a class="header-link" href="#path">route.path</a></h3><div class="css-cv69qk e12etsbl1"><p>A string pattern describing what the route matches. Whenever the router receives a new location, it will loop through the known route paths to determine which one matches the new location&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathname</code> the best.</p><p>Curi uses<a href="https://github.com/pillarjs/path-to-regexp#parameters"><code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code></a> <!-- -->for paths, which enables routes to have<a href="https://github.com/pillarjs/path-to-regexp#parameters">path parameters</a>. When a route with parameters matches a location, the parameters will be be parsed from the location&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathname</code>.</p><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">path</code> strings should <strong>not</strong> have a leading slash.</p><div class="css-1p6f91g e1bjkffy1"><strong>Warning:</strong> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code> supports arrays and RegExps, but Curi only supports string paths. This is because Curi uses<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code> to generate pathnames from a route&#x27;s name, which it can only do from strings paths.</div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">[
  { name: &#x27;Home&#x27;, path: &#x27;&#x27; },
  // when the pathname is a/yo, albumID = &quot;yo&quot;
  { name: &#x27;Album&#x27;, path: &#x27;a/:albumID&#x27; },
  // the path (.*) matches every pathname
  { name: &#x27;Not Found&#x27;, path: &#x27;(.*)&#x27; }
];

// don&#x27;t include a leading forward slash
// { name: &#x27;Home&#x27;, path: &#x27;/&#x27; }</code></pre></div></div><div class="section css-2fdgsn" id="resolve"><h3 class="displaced-header"><a class="header-link" href="#resolve">route.resolve</a></h3><div class="css-cv69qk e12etsbl1"><p>The <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> object groups async functions that will be called when the route matches.</p><p>A route with any <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions is asynchronous, while one with no <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions is synchronous. You can read more about this is the<!-- --> <a href="/guides/sync-or-async/">sync or async</a> <!-- -->guide.</p><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions are called every time that a route matches the current location.</p><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions will be passed an object with the matched route properties: <code class="inline-code language-javascript css-14f7g1f eutm4hs0">name</code>, <code class="inline-code language-javascript css-14f7g1f eutm4hs0">params</code>,<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">partials</code>, and <code class="inline-code language-javascript css-14f7g1f eutm4hs0">location</code>.</p><div class="css-mezw60 e1bjkffy0"><strong>Note:</strong> <!-- -->You should not perform side effects (e.g. passing the loaded data to a Redux store) in <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions because it is possible that navigating to the route might be cancelled. If you must perform side effects for a route, you should do so in <code class="inline-code language-javascript css-14f7g1f eutm4hs0">response()</code>.</div></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const about = {
  name: &#x27;About&#x27;,
  path: &#x27;about&#x27;,
  resolve: {
    body: () =&gt; import(&#x27;./components/About&#x27;),
    data: () =&gt; fetch(&#x27;/api/about&#x27;)
  }
};</code></pre></div></div><div class="section css-2fdgsn" id="response"><h2 class="displaced-header"><a class="header-link" href="#response">route.response()</a></h2><div class="css-cv69qk e12etsbl1"><p>A function for modifying the response object. This returns an object whose properties will be merged with the matched route properties to create the &quot;final&quot; response.</p><p>Only valid properties will be merged onto the response; everything else will be ignored. The valid properties are:</p></div><ol><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">body</code> - This is usually what you will render.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">import Home from &quot;./components/Home&quot;;
const routes = prepareRoutes([
  {
    name: &quot;Home&quot;,
    path: &quot;&quot;,
    response() {
      return { body: Home };
    }
  },
  // ...
]);
// response = { body: Home, ... }</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">status</code> - A number. This is useful for redirects or locations caught by your catch-all route while using server-side rendering. The default status value is<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">200</code>.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">{
  response(){
    return {
      status: 301,
      redirectTo: {...}
    };
  }
}
// response = { status: 301, ... }</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">error</code> - If an error occurs with the route&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> methods, you might want to attach an error message to the response.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">{
  resolve: {
    test: () =&gt; Promise.reject(&quot;woops!&quot;)
  },
  response({ error }) {
    return { error };
  }
}
// response = { error: &quot;woops!&quot;, ... }</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">data</code> - Anything you want it to be.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">{
  response() {
    return { data: Math.random() };
  }
}
// response = { data: 0.8651606708109429, ... }</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">title</code> - This can be used with<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">@curi/side-effect-title</code> to update the page&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">document.title</code>.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">{
  response({ params }) {
    return { title: `User ${params.id}` };
  }
}
// when visting /user/2
// response = { title: &quot;User 2&quot;, ... }</code></pre></div></li><li><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">redirectTo</code> - An object with the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">name</code> <!-- -->of the route to redirect to, <code class="inline-code language-javascript css-14f7g1f eutm4hs0">params</code> (if required), and optional <code class="inline-code language-javascript css-14f7g1f eutm4hs0">hash</code>, <code class="inline-code language-javascript css-14f7g1f eutm4hs0">query</code>, and <code class="inline-code language-javascript css-14f7g1f eutm4hs0">state</code> properties.</p><p>The other values are copied directly, but<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">redirectTo</code> will be turned into a location object using the object&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">name</code> (and<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">params</code> if required).</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">[
  {
    name: &quot;Old Photo&quot;,
    path: &quot;photo/:id&quot;,
    response({ params }) {
      return {
        redirectTo: { name: &quot;Photo&quot;, params }
      };
    }
  },
  {
    name: &quot;New Photo&quot;,
    path: &quot;p/:id&quot;
  }
]
// when the user navigates to /photo/1:
// response = { redirectTo: { pathname: &quot;/p/1&quot;, ... } }</code></pre></div></li></ol><div class="css-cv69qk e12etsbl1"><p>This function is passed an object with a number of properties that can be useful for modifying the response.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">{
  response: ({ match, resolved }) =&gt; {
    // ...
  }
}</code></pre></div><ul><li class="section css-2fdgsn" id="response-match"><h3 class="displaced-header"><a class="header-link" href="#response-match">match</a></h3><div class="css-cv69qk e12etsbl1"><p>An object with the matched route properties of a response.</p><div class="css-13ad1he e18t55xi0"><table><thead><tr><th>property</th><th>description</th></tr></thead><tbody><tr><td>name</td><td>the name of the matched route</td></tr><tr><td>params</td><td>route parameters parsed from the location</td></tr><tr><td>partials</td><td>the names of any ancestor routes of the matched route</td></tr><tr><td>location</td><td>the location that was used to match the route</td></tr><tr><td>key</td><td>the location&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">key</code>, which is a unique identifier</td></tr></tbody></table></div></div></li><li class="section css-2fdgsn" id="response-resolved"><h3 class="displaced-header"><a class="header-link" href="#response-resolved">resolved</a></h3><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolved</code> is an object with the values resolved by the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions.</p><p>If a route isn&#x27;t async, <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolved</code> will be<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">null</code>.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">// attach resolved data to the response
const user = {
  name: &#x27;User&#x27;,
  path: &#x27;:id&#x27;,
  resolve: {
    data: ({ params, location }) =&gt; (
      fetch(`/api/users/${params.id}`)
        .then(resp =&gt; JSON.parse(resp))
    ),
  },
  response: ({ resolved }) =&gt; {
    return {
      data: resolved.data
    };
  }
}</code></pre></div></li><li class="section css-2fdgsn" id="response-error"><h3 class="displaced-header"><a class="header-link" href="#response-error">error</a></h3><div class="css-cv69qk e12etsbl1"><p><code class="inline-code language-javascript css-14f7g1f eutm4hs0">error</code> is an error thrown by one of the route&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">resolve</code> functions.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">// check if any of a route&#x27;s resolve functions threw
const user = {
  name: &#x27;User&#x27;,
  path: &#x27;:id&#x27;,
  resolve: {
    data: ({ params, location }) =&gt; (
      fetch(`/api/users/${params.id}`)
        .then(resp =&gt; JSON.parse(resp))
    ),
  },
  response: ({ error, resolved }) =&gt; {
    if (error) {
      return { error };
    }
    return {
      data: resolved.data
    };
  }
}</code></pre></div></li></ul></div><div class="section css-2fdgsn" id="children"><h3 class="displaced-header"><a class="header-link" href="#children">children</a></h3><div class="css-cv69qk e12etsbl1"><p>An optional array of route objects for creating nested routes. Any child routes will be matched relative to their parent route&#x27;s <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path</code>. This means that if a parent route&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path</code> string is <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&#x27;one&#x27;</code> and a child route&#x27;s<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path</code> string is <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&#x27;two&#x27;</code>, the child will match when the pathname is <code class="inline-code language-javascript css-14f7g1f eutm4hs0">&#x27;one/two&#x27;</code>.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">// &#x27;/a/Coloring+Book/All+Night&#x27; will be matched
// by the &quot;Song&quot; route, with the params
// { album: &#x27;Coloring+Book&#x27;, title: &#x27;All+Night&#x27; }
{
  name: &#x27;Album&#x27;,
  path: &#x27;a/:album&#x27;,
  children: [
    {
      name: &#x27;Song&#x27;,
      path: &#x27;:title&#x27;
    }
  ]
}</code></pre></div></div><div class="section css-2fdgsn" id="params"><h3 class="displaced-header"><a class="header-link" href="#params">params</a></h3><div class="css-cv69qk e12etsbl1"><p>When <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code> matches your paths, all parameters are extracted as strings. If you prefer for some route params to be other types, you can provide functions to transform params using the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">route.params</code> object.</p><p>Properties of the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">route.params</code> object are the names of params to be parsed. The paired value should be a function that takes a string (the value from the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathname</code>) and returns a new value (transformed using the function you provide).</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &#x27;Number&#x27;,
    path: &#x27;number/:num&#x27;,
    params: {
      num: n =&gt; parseInt(n, 10)
    }
  }
]);

// when the user visits /number/1,
// response.params will be { num: 1 }
// instead of { num: &quot;1&quot; }</code></pre></div></div><div class="section css-2fdgsn" id="pathOptions"><h3 class="displaced-header"><a class="header-link" href="#pathOptions">pathOptions</a></h3><div class="css-cv69qk e12etsbl1"><p>If you need to provide different path options than<!-- --> <a href="https://github.com/pillarjs/path-to-regexp#usage">the defaults</a> <!-- -->used by <code class="inline-code language-javascript css-14f7g1f eutm4hs0">path-to-regexp</code>, you can provide them with a<!-- --> <code class="inline-code language-javascript css-14f7g1f eutm4hs0">pathOptions</code> object.</p><div class="css-mezw60 e1bjkffy0"><strong>Note:</strong> <!-- -->If a route has a children array property, it will<!-- --> <strong>always</strong> have the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">end</code> path option set to false.</div></div></div><div class="section css-2fdgsn" id="extra"><h3 class="displaced-header"><a class="header-link" href="#extra">extra</a></h3><div class="css-cv69qk e12etsbl1"><p>If you have any additional properties that you want attached to a route, use the <code class="inline-code language-javascript css-14f7g1f eutm4hs0">extra</code> property. You will be able to use <code class="inline-code language-javascript css-14f7g1f eutm4hs0">route.extra</code> in any custom route interactions.</p></div><div class="css-pr87ee e12etsbl0"><pre><code class="language-javascript">const routes = prepareRoutes([
  {
    name: &#x27;A Route&#x27;,
    path: &#x27;a-route&#x27;,
    extra: {
      transition: &#x27;fade&#x27;
    }
  },
  {
    name: &#x27;B Route&#x27;,
    path: &#x27;b-route&#x27;,
    extra: {
      enter: &#x27;slide-right&#x27;
    }
  }
]);</code></pre></div></div></div></div></div></div></main></div>
    <script src="https://unpkg.com/react@16.6.3/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.6.3/umd/react-dom.production.min.js"></script>
    <script src="/static/js/prism.js"></script>
    <script src="/static/js/bundle.js"></script>
  </body>
</html>
