<div>
  <button type="button" on:click="loginAndRedirect($curi, $router)">
    Login
  </button>
</div>

<script>
  import fakeAuth from "../fakeAuth";

  export default {
    methods: {
      loginAndRedirect($curi, $router) {
        fakeAuth.login();
        const { query } = $curi.response.location;
        $router.navigate({ url: query.next || "/", method: "replace" });
      }
    }
  }
</script>
